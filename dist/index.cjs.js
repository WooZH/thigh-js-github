"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("ethers"),t=require("ethers-multicall");function n(e,t,n,a){return new(n||(n=Promise))((function(i,s){function p(e){try{u(a.next(e))}catch(e){s(e)}}function y(e){try{u(a.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(p,y)}u((a=a.apply(e,t||[])).next())}))}const a=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionClosing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionDecreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionIncreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionOverdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"allPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPositions",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"},{internalType:"uint256[]",name:"positionsState",type:"uint256[]"}],name:"batchUpdatePositionState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"buyCover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"}],name:"deliver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"dexCenter",outputs:[{internalType:"contract IDexCenter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"executePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"getBatchPositionState",outputs:[{internalType:"uint256[]",name:"positionsState",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getPositionState",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getPositions",outputs:[{internalType:"address[]",name:"positions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByAccount",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByPoolId",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByState",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_dexCenter",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"isPoolWithdrawable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"poolPositions",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolStatsMap",outputs:[{internalType:"uint256",name:"opens",type:"uint256"},{internalType:"uint256",name:"overdrawns",type:"uint256"},{internalType:"uint256",name:"closings",type:"uint256"},{internalType:"uint256",name:"ends",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionBlocks",outputs:[{internalType:"uint256",name:"openBlock",type:"uint256"},{internalType:"uint256",name:"closingBlock",type:"uint256"},{internalType:"uint256",name:"overdrawnBlock",type:"uint256"},{internalType:"uint256",name:"closedBlock",type:"uint256"},{internalType:"uint256",name:"lastSellBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionInfoMap",outputs:[{internalType:"uint64",name:"poolId",type:"uint64"},{internalType:"address",name:"strToken",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"sellShort",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"}],name:"setBatchClosePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newDexCenter",type:"address"}],name:"setDexCenter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPriceOracle",type:"address"}],name:"setPriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"updatePositionState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userPositions",outputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"poolId",type:"uint64"}],stateMutability:"view",type:"function"}];function i(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("TradingHub",a,e)}))}const s=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolDelisted",type:"event"},{anonymous:!1,inputs:[],name:"PoolGuardianInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"leverage",type:"uint256"},{internalType:"uint256",name:"durationDays",type:"uint256"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"addPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"createPoolIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getCreatedPoolIds",outputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolIds",outputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getPoolInfo",outputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"strToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_sig",type:"bytes4"}],name:"getStrPoolImplementations",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"leverageAllowedList",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"listPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxLeverage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"address",name:"strToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"status",type:"uint8"}],name:"queryPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"uint256",name:"newMaxLeverage",type:"uint256"}],name:"setMaxLeverage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"enum IPoolGuardian.PoolStatus",name:"status",type:"uint8"}],name:"setStateFlag",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4[]",name:"_sigs",type:"bytes4[]"},{internalType:"address",name:"_implementation",type:"address"}],name:"setStrPoolImplementations",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newWrapRouter",type:"address"}],name:"setWrapRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"",type:"bytes4"}],name:"strPoolImplementations",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function p(){return n(this,void 0,void 0,(function*(){return ue().ethUtil.getContractByName("PoolGuardian",s)}))}const y=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Borrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"pending",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Repay",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WrappedEtherAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"currentRoundTradingFeeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getMetaInfo",outputs:[{internalType:"address",name:"creator_",type:"address"},{internalType:"address",name:"stakedToken_",type:"address"},{internalType:"address",name:"stableToken_",type:"address"},{internalType:"address",name:"wrappedToken_",type:"address"},{internalType:"uint256",name:"leverage_",type:"uint256"},{internalType:"uint256",name:"durationDays_",type:"uint256"},{internalType:"uint256",name:"startBlock_",type:"uint256"},{internalType:"uint256",name:"endBlock_",type:"uint256"},{internalType:"uint256",name:"id_",type:"uint256"},{internalType:"uint256",name:"stakedTokenDecimals_",type:"uint256"},{internalType:"uint256",name:"stableTokenDecimals_",type:"uint256"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag_",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_creator",type:"address"},{internalType:"address",name:"_stakedToken",type:"address"},{internalType:"address",name:"_stableToken",type:"address"},{internalType:"address",name:"_wrapRouter",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_poolRewardModel",type:"address"},{internalType:"uint256",name:"_poolId",type:"uint256"},{internalType:"uint256",name:"_leverage",type:"uint256"},{internalType:"uint256",name:"_durationDays",type:"uint256"},{internalType:"uint256",name:"__blocksPerDay",type:"uint256"},{internalType:"address",name:"_WrappedEtherAddr",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isLegacyLeftover",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"list",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolRewardModel",outputs:[{internalType:"contract IPoolRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolUserUpdateBlock",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionInfoMap",outputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"bool",name:"closedFlag",type:"bool"},{internalType:"uint64",name:"lastestFeeBlock",type:"uint64"},{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"},{internalType:"uint256",name:"remnantAsset",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPoolGuardian.PoolStatus",name:"newStateFlag",type:"uint8"}],name:"setStateFlag",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTradingFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tradingFeeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tradingVolumeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userStakedTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userWrappedTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"percent",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wrapRouter",outputs:[{internalType:"contract IWrapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wrappedToken",outputs:[{internalType:"contract ISRC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"phase1Used",type:"uint256"},{internalType:"uint256",name:"phase2Used",type:"uint256"},{internalType:"uint256",name:"legacyUsed",type:"uint256"}],name:"auctionClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"batchUpdateFundingFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"borrow",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isLegacyLeftover",type:"bool"}],name:"delivery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"bool",name:"isTetherToken",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"dexCover",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"currentPrice",type:"uint256"},{internalType:"address",name:"position",type:"address"}],name:"estimatePositionState",outputs:[{internalType:"enum ITradingHub.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getFundingFee",outputs:[{internalType:"uint256",name:"totalFee_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getInterestRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getPositionAssetInfo",outputs:[{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"bool",name:"isTetherToken",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"repay",outputs:[{internalType:"bool",name:"isClosed",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stableTillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"updatePositionToAuctionHall",outputs:[{internalType:"enum ITradingHub.PositionState",name:"positionState",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"withdrawRemnantAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"percent",type:"uint256"}],name:"getWithdrawableAmountByPercent",outputs:[{internalType:"uint256",name:"withdrawAmount",type:"uint256"},{internalType:"uint256",name:"burnAmount",type:"uint256"},{internalType:"uint256",name:"stableTokenAmount",type:"uint256"}],stateMutability:"view",type:"function"}];function u(e,t=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByAddr(e,y,t)}))}function r(e){return ue().ethUtil.getMulticallContractByAddr(e,y)}const o=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function d(e){return ue().ethUtil.getMulticallContractByAddr(e,o)}const l=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"controvertibleAmounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function m(e){return n(this,void 0,void 0,(function*(){const t=yield p(),n=yield t.getPoolInfo(e),a=yield u(n.strToken),i=yield a.getMetaInfo();return Object.assign(Object.assign({},i),{strToken:n.strToken})}))}function c(e,t,a){return n(this,void 0,void 0,(function*(){const n=yield u(e,!1),i=yield n.withdraw(t,a);return yield i.wait()}))}const b=new Map;var T=Object.freeze({__proto__:null,getPools:function(e="",t=0){return n(this,void 0,void 0,(function*(){const n=e||"0x0000000000000000000000000000000000000000";let a=[];a=t?[t]:[1,2,3,4];const i=[],p=yield ue().ethUtil.getMulticallContractByName("PoolGuardian",s);a.forEach((e=>{i.push(p.queryPools(n,e))}));const y=yield ue().ethUtil.getMulticallProvider();return(yield y.all(i)).map((e=>Object.assign({},e)))}))},getMetaInfo:m,getPoolInfo:function(e){return n(this,void 0,void 0,(function*(){const t=yield p(),n=yield t.getPoolInfo(e),a=n.strToken,i=n.stateFlag,s=r(a),y=yield d(a),u=yield ue().ethUtil.getMulticallContractByName("WrapRouter",l),o=[];o.push(s.getMetaInfo()),o.push(y.totalSupply()),o.push(u.controvertibleAmounts(a));const m=yield ue().ethUtil.getMulticallProvider(),c=yield m.all(o),b=c[0],T=c[1],f=c[2];return{creator:b.creator_,leverage:b.leverage_,strToken:a,stakedToken:{address:b.stakedToken_,decimals:b.stakedTokenDecimals_},stableToken:{address:b.stableToken_,decimals:b.stableTokenDecimals_},totalDeposited:T,availableAmount:f,durationDays:b.durationDays_,status:i,startBlock:b.startBlock_,endBlock:b.endBlock_}}))},getParticipantNumber:function(t){return n(this,void 0,void 0,(function*(){let n=0,i=0;const s=yield p(),r=(yield s.getPoolInfo(t)).strToken,o=yield u(r),d=yield o.getMetaInfo(),l=d.startBlock_,m=d.endBlock_,c=yield ue().ethUtil.encodeFilterTopics(y,"Deposit");n=(yield ue().ethUtil.getLogs({fromBlock:Number(l.toString()),toBlock:Number(m.toString()),topics:c,contractAddr:r})).length||0;const b=yield ue().ethUtil.encodeFilterTopics(a,"PositionOpened"),T=new e.utils.AbiCoder;b.push(T.encode(["uint256"],[t]));return i=(yield ue().ethUtil.getLogs({fromBlock:Number(l.toString()),toBlock:Number(m.toString()),topics:b,contractName:"tradingHub"})).length||0,{providerCount:n,traderCount:i}}))},deposit:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield u(e,!1),a=yield n.deposit(t);return yield a.wait()}))},withdrawByAmount:function(e,t){return n(this,void 0,void 0,(function*(){return c(e,0,t)}))},withdrawByPercent:function(t,a){return n(this,void 0,void 0,(function*(){const n=e.BigNumber.from("0");return c(t,a,n)}))},approve:function(e,t="MAX"){return n(this,void 0,void 0,(function*(){let n=t;"MAX"===n&&(n="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const a=yield u(e,!1),i=yield a.approve(ue().ethUtil.getContractAddress("shorterBone"),n);return yield i.wait()}))},allowance:function(e,t=null){return n(this,void 0,void 0,(function*(){const n=yield u(e);return yield n.allowance(t,ue().ethUtil.getContractAddress("shorterBone"))}))},getLogs:function(t,i){return n(this,void 0,void 0,(function*(){const{startBlock_:n,endBlock_:s,strToken:p}=yield m(t),u=Number(n.toString()),r=Number(s.toString()),o=yield ue().ethUtil.encodeFilterTopics(y,"Deposit"),d=yield ue().ethUtil.encodeFilterTopics(y,"Withdraw"),l=yield ue().ethUtil.encodeFilterTopics(a,"PositionOpened"),c=yield ue().ethUtil.encodeFilterTopics(a,"PositionIncreased"),T=yield ue().ethUtil.encodeFilterTopics(a,"PositionDecreased");b.set(o[0],"Deposit"),b.set(d[0],"Withdraw"),b.set(l[0],"Open"),b.set(c[0],"Borrow"),b.set(T[0],"Repay");const f=new e.utils.AbiCoder,v=t.toString(),g=f.encode(["address"],[i]),M=f.encode(["uint256"],[v]),w={fromBlock:u,toBlock:r,topics:[[o[0],d[0]],g],contractAddr:p},h={fromBlock:u,toBlock:r,topics:[[l[0],c[0],T[0]],M,g],contractName:"tradingHub"},R=yield ue().ethUtil.getLogs(w),x=yield ue().ethUtil.getLogs(h),k=R.map((t=>function(t){const{topics:n,data:a}=t,i=new e.utils.AbiCoder,s=b.get(n[0]),p=i.decode(["uint256"],a);return{operation:s,amount:p[0]}}(t))),P=x.map((t=>function(t){const{topics:n,data:a}=t,i=new e.utils.AbiCoder,s=b.get(n[0]),p=i.decode(["uint256"],a);return{operation:s,amount:p[0]}}(t)));return{poolId:t,user:i,logs:[...k,...P]}}))}});const f=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Stake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"UnStake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"allPendingRewards",outputs:[{internalType:"uint256",name:"govRewards",type:"uint256"},{internalType:"uint256",name:"farmingRewards",type:"uint256"},{internalType:"uint256",name:"voteAgainstRewards",type:"uint256"},{internalType:"uint256",name:"tradingRewards",type:"uint256"},{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"tradingRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"stakedRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"createRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"voteRewardPools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farmingRewardModel",outputs:[{internalType:"contract IFarmingRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakedAmount",outputs:[{internalType:"uint256",name:"userStakedAmount_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"govRewardModel",outputs:[{internalType:"contract IGovRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"govRewards",type:"uint256"},{internalType:"uint256",name:"farmingRewards",type:"uint256"},{internalType:"uint256",name:"voteAgainstRewards",type:"uint256"},{internalType:"uint256[]",name:"tradingRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"stakedRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"createRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"voteRewardPools",type:"uint256[]"}],name:"harvestAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lpToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolRewardModel",outputs:[{internalType:"contract IPoolRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_lpToken",type:"address"}],name:"setLpToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tradingRewardModel",type:"address"},{internalType:"address",name:"_farmingRewardModel",type:"address"},{internalType:"address",name:"_govRewardModel",type:"address"},{internalType:"address",name:"_poolRewardModel",type:"address"},{internalType:"address",name:"_voteRewardModel",type:"address"}],name:"setRewardModel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tradingRewardModel",outputs:[{internalType:"contract ITradingRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"unStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userStakedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"voteRewardModel",outputs:[{internalType:"contract IVoteRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"}];function v(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("Farming",f,e)}))}const g=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getStrPool",outputs:[{internalType:"address",name:"strToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"harvestByStrToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingCreatorRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingPoolReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingVoteRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"uint64",name:"allocPoint",type:"uint64"},{internalType:"uint64",name:"multiplier",type:"uint64"},{internalType:"uint64",name:"lastRewardBlock",type:"uint64"},{internalType:"uint256",name:"accIPISTRPerShare",type:"uint256"},{internalType:"uint256",name:"accStablePerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"rewardDebtInfoMap",outputs:[{internalType:"uint256",name:"poolIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"poolStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorStableRewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"},{internalType:"uint256[]",name:"_allocPoints",type:"uint256[]"}],name:"setAllocPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ipistrPerBlock",type:"uint256"}],name:"setIpistrPerBlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAllocWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var M=Object.freeze({__proto__:null,getAllPendingRewards:function(e){return n(this,void 0,void 0,(function*(){const t=yield v(),n=yield t.allPendingRewards(e);return{govRewards:n.govRewards,farmingRewards:n.farmingRewards,voteAgainstRewards:n.voteAgainstRewards,tradingRewards:n.tradingRewards,stakedRewards:n.stakedRewards,creatorRewards:n.creatorRewards,voteRewards:n.voteRewards,tradingRewardPools:n.tradingRewardPools,stakedRewardPools:n.stakedRewardPools,createRewardPools:n.createRewardPools,voteRewardPools:n.voteRewardPools}}))},harvestAllRewards:function(e){return n(this,void 0,void 0,(function*(){const t=yield v(!1),n=yield t.harvestAll(e.govRewards,e.farmingRewards,e.voteAgainstRewards,e.tradingRewardPools,e.stakedRewardPools,e.createRewardPools,e.voteRewardPools);return yield n.wait()}))},getPendingReward:function(e){return n(this,void 0,void 0,(function*(){const t=yield function(){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("FarmingReward",g)}))}(),a=yield t.pendingReward(e);return{reward:a.rewards_,unlockedReward:a.unLockRewards_}}))},harvest:function(){return n(this,void 0,void 0,(function*(){const e=yield v(),t=yield e.harvest();return yield t.wait()}))}});const w=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"auctionHall",outputs:[{internalType:"contract IAuctionHall",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"batchClosePositionGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"closePositionGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"failedProposalGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getAuctionHallChangedPositions",outputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"},{internalType:"bytes[]",name:"phase1Ranks",type:"bytes[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getBatchClosePositions",outputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getBatchLegacyPositions",outputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getQueuePoolProposals",outputs:[{internalType:"uint256[]",name:"queuedProposals",type:"uint256[]"},{internalType:"uint256[]",name:"failedProposals",type:"uint256[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getTradingHubChangedPositions",outputs:[{internalType:"address[]",name:"resPositions",type:"address[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"strToken",type:"address"},{internalType:"address[]",name:"openPositions",type:"address[]"}],name:"getTradingHubChangedPositionsByPool",outputs:[{internalType:"address[]",name:"resPositions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"grabRewardPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"grabRewardPerGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes32",name:"_signature",type:"bytes32"}],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_auctionHall",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastGrabBlockNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"overdrawnGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"estimateGasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes32",name:"_signature",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"phase1RankGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"queuedProposalGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_maxGasLimit",type:"uint256"},{internalType:"uint256",name:"_baseGasLimit",type:"uint256"},{internalType:"uint256",name:"_closePositionGasLimit",type:"uint256"},{internalType:"uint256",name:"_batchClosePositionGasLimit",type:"uint256"},{internalType:"uint256",name:"_recoverGasLimit",type:"uint256"},{internalType:"uint256",name:"_phase1RankGasLimit",type:"uint256"},{internalType:"uint256",name:"_overdrawnGasLimit",type:"uint256"},{internalType:"uint256",name:"_queuedProposalGasLimit",type:"uint256"},{internalType:"uint256",name:"_failedProposalGasLimit",type:"uint256"}],name:"setGasLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newGrabRewardPerBlock",type:"uint256"},{internalType:"uint256",name:"newGrabRewardPerGasLimit",type:"uint256"}],name:"setGrabReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"}];function h(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("GrabReward",w,e)}))}const R=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakedAmount",outputs:[{internalType:"uint256",name:"_stakedAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_farming",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newApyPoint",type:"uint256"}],name:"setApyPoint",outputs:[],stateMutability:"nonpayable",type:"function"}];const x=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getStrPool",outputs:[{internalType:"address",name:"strToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"harvestByStrToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingCreatorRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingPoolReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingVoteRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"uint64",name:"allocPoint",type:"uint64"},{internalType:"uint64",name:"multiplier",type:"uint64"},{internalType:"uint64",name:"lastRewardBlock",type:"uint64"},{internalType:"uint256",name:"accIPISTRPerShare",type:"uint256"},{internalType:"uint256",name:"accStablePerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"rewardDebtInfoMap",outputs:[{internalType:"uint256",name:"poolIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"poolStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorStableRewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"},{internalType:"uint256[]",name:"_allocPoints",type:"uint256[]"}],name:"setAllocPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ipistrPerBlock",type:"uint256"}],name:"setIpistrPerBlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAllocWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function k(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("PoolReward",x,e)}))}const P=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"uint256[]",name:"poolIds",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256[]",name:"poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"tradingRewardDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];const A=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_farming",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerProposal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"_reward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"setIpistrPerProposal",outputs:[],stateMutability:"nonpayable",type:"function"}];var I=Object.freeze({__proto__:null,getCommitteeReward:function(e){return n(this,void 0,void 0,(function*(){const t=yield function(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("GovReward",R,e)}))}();return yield t.pendingReward(e)}))},getGrabReward:function(){return n(this,void 0,void 0,(function*(){const e=yield h(),t=yield e.pendingReward();return{reward:t.reward,estimateGasLimit:t.estimateGasLimit,data:t.data,signature:t._signature}}))},grabReward:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield h(!1),a=yield n.harvest(e,t);return yield a.wait()}))},getPoolIpistrPerBlock:function(){return n(this,void 0,void 0,(function*(){const e=yield k();return yield e.ipistrPerBlock()}))},getPoolRewardMap:function(e){return n(this,void 0,void 0,(function*(){const t=yield k(),n=yield t.poolInfoMap(e);return{accIPISTRPerShare:n.accIPISTRPerShare,allocPoint:n.allocPoint,multiplier:n.multiplier,lastRewardBlock:n.lastRewardBlock}}))},totalAllocPoint:function(){return n(this,void 0,void 0,(function*(){const e=yield k();return yield e.totalAllocWeight()}))},getPendingIpistrs:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield k();return yield n.pendingPoolReward(t,e)}))},getTradingReward:function(e){return n(this,void 0,void 0,(function*(){const t=yield function(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("TradingReward",P,e)}))}(),a=yield t.pendingReward(e);return{rewards:a.rewards,poolIds:a.poolIds}}))},getPoolFailureReward:function(e){return n(this,void 0,void 0,(function*(){const t=yield function(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("VoteReward",A,e)}))}();return yield t.pendingReward(e)}))}});function B(e,t){const n=[];for(;e.length>0;){const a=e.splice(0,t);n.push(a)}return n}function C(){return n(this,void 0,void 0,(function*(){const e=ue().ethUtil.getContractDeployBlock("committee"),t=yield ue().ethUtil.encodeFilterTopics(re,"PoolProposalCreated");return(yield ue().ethUtil.getLogs({fromBlock:e,toBlock:"latest",topics:t,contractName:"committee"})).map((e=>ue().ethUtil.decodeLogs(e,re))).map((e=>({proposalId:e.args.proposalId,proposer:e.args.proposer,blockNumber:e.blockNumber})))}))}function _(e){return n(this,void 0,void 0,(function*(){const t=yield oe(),n=yield t.proposalGallery(e);return{id:e,status:n.status,proposer:n.proposer,category:n.catagory,forShares:n.forShares,againstShares:n.againstShares,endBlock:n.endBlock,startBlock:n.startBlock}}))}function S(){return n(this,void 0,void 0,(function*(){const e=yield oe();return yield e.totalIpistrStakedShare()}))}var E=Object.freeze({__proto__:null,getAllRulers:function(){return n(this,void 0,void 0,(function*(){const e=ue().ethUtil.getContractDeployBlock("committee"),t=yield ue().ethUtil.encodeFilterTopics(re,"DepositCommittee"),n=yield ue().ethUtil.getLogs({fromBlock:e,toBlock:"latest",topics:t,contractName:"committee"}),a=de(),i=[],s=yield S(),p=new Map,y=n.map((e=>ue().ethUtil.decodeLogs(e,re))).map((e=>({account:e.args.user}))).filter((e=>!p.has(e.account)&&p.set(e.account,1)));y.map((e=>{i.push(a.getUserShares(e.account))}));const u=yield ue().ethUtil.getMulticallProvider(),r=yield u.all(i);return y.map(((e,t)=>{const n=r[t].totalShare.toString()/s.toString();return{account:e.account,amount:r[t].totalShare,voteWeight:n}})).filter((e=>e.voteWeight>.001)).sort(((e,t)=>t.voteWeight-e.voteWeight))}))},getProposalIdList:C,getAllProposals:function(){return n(this,void 0,void 0,(function*(){const e=yield C(),t=de(),n=[];e.forEach((e=>{n.push(t.proposalGallery(e.proposalId)),n.push(t.poolMetersMap(e.proposalId))}));const a=yield ue().ethUtil.getMulticallProvider();return B(yield a.all(n),2).map((e=>{const t=e[0],n=e[1];return{proposalId:t.id,status:t.status,proposer:t.proposer,startBlock:t.startBlock,endBlock:t.endBlock,catagory:t.catagory,totalFor:t.forShares,totalAgainst:t.againstShares,duration:n.durationDays,leverage:n.leverage,tokenAddress:n.tokenContract}}))}))},getProposalHistory:function(t){return n(this,void 0,void 0,(function*(){const{startBlock:n}=yield _(t),a=yield ue().ethUtil.encodeFilterTopics(re,"ProposalStatusChanged"),i=Number(n.toString()),s=new e.utils.AbiCoder;a.push(s.encode(["uint256"],[t]));return(yield ue().ethUtil.getLogs({fromBlock:i,toBlock:"latest",topics:a,contractName:"committee"})).map((e=>ue().ethUtil.decodeLogs(e,re))).map((e=>({proposalId:e.args.proposalId,status:e.args.ps.toString(),blockNumber:e.blockNumber})))}))},getProposalInfoById:_,createPoolProposal:function(e,t,a,i){return n(this,void 0,void 0,(function*(){const n=yield oe(!1),s=yield n.createPoolProposal(e,t,a,{from:i});return yield s.wait()}))},createEthPoolProposal:function(e,t,a){return n(this,void 0,void 0,(function*(){const n=yield oe(!1),i=yield n.createPoolProposal("0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",e,t,{from:a});return yield i.wait()}))},poolMetersMap:function(e){return n(this,void 0,void 0,(function*(){const t=yield oe(),{durationDays:n,leverage:a,tokenContract:i}=yield t.poolMetersMap(e);return{durationDays:n,leverage:a,tokenContract:i}}))},withdraw:function(t,a){return n(this,void 0,void 0,(function*(){let n=t;e.BigNumber.isBigNumber(t)||(n=e.utils.parseUnits(n.toString(),18));const i=yield oe(!1),s=yield i.withdraw(n,{from:a});return yield s.wait()}))},deposit:function(t,a){return n(this,void 0,void 0,(function*(){let n=t;e.BigNumber.isBigNumber(t)||(n=e.utils.parseUnits(n.toString(),18));const i=yield oe(!1),s=yield i.deposit(n,{from:a});return yield s.wait()}))},vote:function(t,a,i){return n(this,void 0,void 0,(function*(){let n=i;e.BigNumber.isBigNumber(i)&&(n=e.utils.parseUnits(n.toString(),18));const s=yield oe(!1),p=yield s.vote(t,a,n);return yield p.wait()}))},isRuler:function(e){return n(this,void 0,void 0,(function*(){const t=yield oe();return yield t.isRuler(e)}))},getTotalIpistrStakedShare:S,getUserShares:function(e){return n(this,void 0,void 0,(function*(){const t=yield oe(),n=yield t.getUserShares(e);return{lockedShare:n.lockedShare,totalShare:n.totalShare}}))}});const O=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"uint256",name:"phase",type:"uint256"}],name:"AuctionFinished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"AuctionInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"debtSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"usedCash",type:"uint256"},{indexed:!1,internalType:"uint256",name:"dexCoverReward",type:"uint256"}],name:"BidKatana",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"bidSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"BidTanto",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"Phase1Rollback",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"stableTokenSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtTokenSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"Retrieve",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WrappedEtherAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"allPhase1BidRecords",outputs:[{internalType:"bool",name:"takeBack",type:"bool"},{internalType:"uint64",name:"bidBlock",type:"uint64"},{internalType:"address",name:"bidder",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"auctionMaxBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"auctionPositonInfoMap",outputs:[{internalType:"address",name:"strPool",type:"address"},{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"uint256",name:"closingBlock",type:"uint256"},{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"},{internalType:"uint256",name:"stakedTokenDecimals",type:"uint256"},{internalType:"uint256",name:"stableTokenDecimals",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"bytes",name:"path",type:"bytes"}],name:"bidKatana",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"bidSorted",outputs:[{internalType:"uint256[]",name:"_bidRanks",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"bidTanto",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"dexCenter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"estimateAuctionPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"}],name:"executePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"strPool",type:"address"},{internalType:"uint256",name:"closingBlock",type:"uint256"}],name:"initAuctionPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_dexCenter",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_wrappedEtherAddr",type:"address"},{internalType:"uint256",name:"_phase1MaxBlock",type:"uint256"},{internalType:"uint256",name:"_auctionMaxBlock",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"inquire",outputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"phase1Infos",outputs:[{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"liquidationPrice",type:"uint256"},{internalType:"bool",name:"isSorted",type:"bool"},{internalType:"bool",name:"flag",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"phase1MaxBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"phase2Infos",outputs:[{internalType:"bool",name:"flag",type:"bool"},{internalType:"bool",name:"isWithdrawn",type:"bool"},{internalType:"address",name:"rulerAddr",type:"address"},{internalType:"uint256",name:"debtSize",type:"uint256"},{internalType:"uint256",name:"usedCash",type:"uint256"},{internalType:"uint256",name:"dexCoverReward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256[]",name:"bidRanks",type:"uint256[]"},{internalType:"address",name:"ruler",type:"address"}],name:"queryResidues",outputs:[{internalType:"uint256",name:"stableTokenSize",type:"uint256"},{internalType:"uint256",name:"debtTokenSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256[]",name:"bidRanks",type:"uint256[]"}],name:"retrieve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userBidTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userLastBidBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function N(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("AuctionHall",O,e)}))}const L=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"bidSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receiveSize",type:"uint256"}],name:"ExecuteNaginata",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"}],name:"executeNaginata",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"legacyInfos",outputs:[{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"usedCash",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"priceOfLegacy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"}];function D(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("VaultButler",L,e)}))}const U=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"isSwapRouterV3",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];const F=[{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"}];function G(){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("UniswapV2Router02",F)}))}const z=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"}];function V(e){return n(this,void 0,void 0,(function*(){const t=yield function(){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("dexCenter",U)}))}();return yield t.isSwapRouterV3(e)}))}function H(t,a,i,s){return n(this,void 0,void 0,(function*(){const p=[i,a];if(yield V(s)){const a=yield function(t,a){return n(this,void 0,void 0,(function*(){const n=[3e3],i=ue().ethUtil.encodePath(a,n),s=(new e.utils.AbiCoder).encode(["uint256"],[t]),p=new e.utils.Interface(z).encodeFunctionData("quoteExactInput",[i,s]),y=ue().ethUtil.getContractAddress("UniswapV3Quoter"),u=yield ue().ethUtil.getProvider();return yield u.call({to:y,data:p})}))}(t,p);return a}{const e=yield G(),n=yield e.getAmountsOut(t,p);return n[n.length-1]}}))}function W(t,a,i){return n(this,void 0,void 0,(function*(){if(i)return function(t,a){return n(this,void 0,void 0,(function*(){const n=[3e3],i=ue().ethUtil.encodePath(a,n),s=(new e.utils.AbiCoder).encode(["uint256"],[t]),p=new e.utils.Interface(z).encodeFunctionData("quoteExactOutput",[i,s]),y=ue().ethUtil.getContractAddress("UniswapV3Quoter"),u=yield ue().ethUtil.getProvider();return yield u.call({to:y,data:p})}))}(t,a);const s=yield G();return(yield s.getAmountsIn(t,a))[0]}))}var q=Object.freeze({__proto__:null,isSwapRouterV3:V,getExpectedPrice:function(t,a,i,s){return n(this,void 0,void 0,(function*(){const n=yield H(t,a,i,s);return e.BigNumber.from(n)}))},getAmountOutMin:H,getAmountInMax:W});function K(e="",t=1){return n(this,void 0,void 0,(function*(){const n=yield i();let a=[];return a=""!==e?yield n.getPositionsByPoolId(e,t):yield n.getPositionsByState(t),a}))}var j=Object.freeze({__proto__:null,getPositions:K,getLiquidatingPositions:function(e=1){return n(this,void 0,void 0,(function*(){const t=yield ue().ethUtil.getMulticallProvider();let n=2;switch(e){case 1:n=2;break;case 2:n=4;break;case 3:n=8}const i=yield K("",n),s=ue().ethUtil.getMulticallContractByName("TradingHub",a),p=[];i.forEach((e=>{p.push(s.positionInfoMap(e))}));const y=yield t.all(p),u=[];y.forEach((e=>{const t=r(e.strToken);u.push(t.getMetaInfo())}));const o=(yield t.all(u)).map(((e,t)=>{const{stakedToken_:n,leverage_:a}=e;return{hash:i[t],leverage:a,strToken:y[t].strToken,stakedToken:n}})),l=[],m=ue().ethUtil.getMulticallContractByName("AuctionHall",O),c=ue().ethUtil.getMulticallContractByName("VaultButler",L);o.forEach((e=>{l.push(m.phase1Infos(e.hash)),l.push(m.phase2Infos(e.hash)),l.push(c.legacyInfos(e.hash));const t=d(e.stakedToken);l.push(t.symbol())}));return B(yield t.all(l),4).map(((e,t)=>{const n=e[0],a=e[1],i=e[2],s=e[3];return{positionBaseInfo:Object.assign(Object.assign({},o[t]),{symbol:s}),phase1Info:{bidSize:n.bidSize,liquidationPrice:n.liquidationPrice,flag:n.flag},phase2Info:{isWithdrawn:a.isWithdrawn,debtSize:a.debtSize,usedCash:a.usedCash,dexCoverReward:a.dexCoverReward,flag:a.flag},legacyInfo:{bidSize:i.bidSize,usedCash:i.usedCash}}}))}))},getPositionInfoByHash:function(e){return n(this,void 0,void 0,(function*(){const t=yield i(),n=yield t.getPositionInfo(e),a=yield u(n.strToken),s=yield a.positionInfoMap(e);return{closedFlag:s.closedFlag,poolId:n.poolId,poolStrToken:n.strToken,size:s.totalSize,state:n.positionState,trader:s.trader,totalFee:s.totalFee,margin:s.totalMarginAmount,unsettledCash:s.unsettledCash,remnantAsset:s.remnantAsset}}))},getPositionBlocks:function(e){return n(this,void 0,void 0,(function*(){const t=yield i(),{openBlock:n,closingBlock:a,overdrawnBlock:s,closedBlock:p}=yield t.positionBlocks(e);return{openBlock:n,closingBlock:a,overdrawnBlock:s,closedBlock:p}}))},POSITION_STATUS:{0:"Risky",1:"Moderate",2:"Safe",4:"Legacy",8:"Closing",5:"Closed",6:"Finished"},buyCover:function(t,a,s,p,y){return n(this,void 0,void 0,(function*(){let n=[p,y];const u=yield V(s);u&&(n=n.reverse());const r=ue().ethUtil.encodePath(n,[3e3]);let o=yield W(a,n,u);o=e.BigNumber.from(o);const d=yield i(!1),l=yield d.buyCover(t,a,o,r);return yield l.wait()}))},sellShort:function(e,t,a,s,p){return n(this,void 0,void 0,(function*(){const n=[p,s],y=ue().ethUtil.encodePath(n,[3e3]),u=yield i(!1),r=yield H(t,s,p,a),o=yield u.sellShort(e,t,r,y);return yield o.wait()}))}});var Y=Object.freeze({__proto__:null,getPhase1Info:function(e){return n(this,void 0,void 0,(function*(){const t=yield N(),{bidSize:n,liquidationPrice:a,flag:i,isSorted:s}=yield t.phase1Infos(e);return{bidSize:n,liquidationPrice:a,isSorted:s,flag:i}}))},getPhase2Info:function(e){return n(this,void 0,void 0,(function*(){const t=yield N(),n=yield t.phase2Infos(e);return{isWithdrawn:n.isWithdrawn,rulerAddr:n.rulerAddr,debtSize:n.debtSize,usedCash:n.usedCash,dexCoverReward:n.dexCoverReward,flag:n.flag}}))},getLegacyInfo:function(e){return n(this,void 0,void 0,(function*(){const t=yield D(),n=yield t.legacyInfos(e);return{bidSize:n.bidSize,usedCash:n.usedCash}}))},getPhase1BidList:function(t,a,i="latest"){return n(this,void 0,void 0,(function*(){const n=yield ue().ethUtil.encodeFilterTopics(O,"BidTanto"),s=new e.utils.AbiCoder;n.push(s.encode(["address"],[t]));return(yield ue().ethUtil.getLogs({fromBlock:a,toBlock:i,topics:n,contractName:"auctionHall"})).map((t=>function(t){try{const n=new e.utils.Interface(O).parseLog(t);if("BidTanto"===n.name){const e=n.args;return{ruler:e.ruler,positionAddr:e.positionAddr,bidSize:e.bidSize,priorityFee:e.priorityFee,blockNumber:t.blockNumber,transactionHash:t.transactionHash}}return!1}catch(e){return null}}(t)))}))},queryResidues:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield N(),a=yield n.queryResidues(e,t);return{debtTokenSize:a.debtTokenSize,priorityFee:a.priorityFee,stableTokenSize:a.stableTokenSize}}))},getResidues:function(e){return n(this,void 0,void 0,(function*(){const t=yield N(!1),n=yield t.retrieve(e);return yield n.wait()}))},bidTanto:function(e,t,a){return n(this,void 0,void 0,(function*(){const n=yield N(!1),i=yield n.bidTanto(e,t,a);return yield i.wait()}))},bidKatana:function(e,t,a,i){return n(this,void 0,void 0,(function*(){const n=yield N(!1);let s=[t,a];(yield V(i))&&(s=s.reverse());const p=ue().ethUtil.encodePath(s,[3e3]),y=yield n.bidKatana(e,p);return yield y.wait()}))},executeNaginata:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield D(!1),a=yield n.executeNaginata(e,t);return yield a.wait()}))},getLegacyBidList:function(t,a,i="latest"){return n(this,void 0,void 0,(function*(){const n=yield ue().ethUtil.encodeFilterTopics(L,"ExecuteNaginata"),s=new e.utils.AbiCoder;n.push(s.encode(["address"],[t]));return(yield ue().ethUtil.getLogs({fromBlock:a,toBlock:i,topics:n,contractName:"vaultButler"})).map((t=>function(t){try{const n=new e.utils.Interface(L).parseLog(t);if("ExecuteNaginata"===n.name){const e=n.args;return{ruler:e.ruler,positionAddr:e.positionAddr,bidSize:e.bidSize,receiveSize:e.receiveSize,blockNumber:t.blockNumber,transactionHash:t.transactionHash}}return null}catch(e){return console.log(e),null}}(t)))}))}});const Q=[{inputs:[{internalType:"address",name:"tokenAddr",type:"address"}],name:"getLatestMixinPrice",outputs:[{internalType:"uint256",name:"tokenPrice",type:"uint256"}],stateMutability:"view",type:"function"}];const X=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"AllyKilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PoolTillIn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PoolTillOut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddr",type:"address"}],name:"ResetAlly",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"Revenue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TillIn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TillOut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TetherToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address[]",name:"tokenAddrs",type:"address[]"},{internalType:"uint256[]",name:"_tokenRatingScores",type:"uint256[]"}],name:"addTokenWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allyContracts",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"getTokenInfo",outputs:[{internalType:"bool",name:"inWhiteList",type:"bool"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"uint256",name:"tokenRatingScore",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"sendAllyId",type:"bytes32"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintByAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"poolRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"poolTillIn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"poolTillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"revenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"},{internalType:"address",name:"contractAddr",type:"address"}],name:"setAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_flag",type:"bool"}],name:"setMintState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"tokenAddrs",type:"address[]"},{internalType:"bool",name:"flag",type:"bool"}],name:"setTaxFreeTokenList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_TetherToken",type:"address"}],name:"setTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"bool",name:"flag",type:"bool"}],name:"setTokenInWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"tokenRatingScore",type:"uint256"}],name:"setTokenRatingScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"newSwapRouter",type:"address"}],name:"setTokenSwapRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"slayAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"taxFreeTokenList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"bytes32",name:"toAllyId",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"tillIn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"bytes32",name:"fromAllyId",type:"bytes32"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"tillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTokenSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}];function J(){return ue().ethUtil.getMulticallContractByName("ShorterBone",X)}var Z=Object.freeze({__proto__:null,getGasPrice:function(){return n(this,void 0,void 0,(function*(){const t=ue().ethUtil.getProvider(),n=yield(yield t).getGasPrice();return e.utils.formatUnits(n,"gwei")}))},getLatestPrice:function(e){return n(this,void 0,void 0,(function*(){const t=yield function(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("PriceOracle",Q,e)}))}();return yield t.getLatestMixinPrice(e)}))},getTokenInfo:function(e){return n(this,void 0,void 0,(function*(){const t=J(),n=d(e),a=yield ue().ethUtil.getMulticallProvider(),i=[];i.push(t.getTokenInfo(e)),i.push(n.symbol()),i.push(n.decimals());const s=yield a.all(i),p=s[0];return{symbol:s[1],decimals:s[2],multiplier:p.tokenRatingScore,inWhiteList:p.inWhiteList,swapRouter:p.swapRouter}}))},getTokenWhiteList:function(){return n(this,void 0,void 0,(function*(){const e=yield function(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("ShorterBone",X,e)}))}(),t=yield J(),a=yield ue().ethUtil.getMulticallProvider();let i=yield e.totalTokenSize();i=Number(i.toString());let s=0;const p=[];for(;s<i;)p.push(t.tokens(s)),s++;return yield a.all(p)}))}});var $=Object.freeze({__proto__:null,getCurrentWallet:function(){return n(this,void 0,void 0,(function*(){}))},getGasBalance:function(){return n(this,void 0,void 0,(function*(){}))},getBalanceOf:function(e,t){return n(this,void 0,void 0,(function*(){const a=yield function(e){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByAddr(e,o)}))}(e);return yield a.balanceOf(t)}))},getETHBalanceOf:function(e){return n(this,void 0,void 0,(function*(){const t=yield ue().ethUtil.getProvider();return yield t.getBalance(e)}))}});class ee{constructor(e){this.chainId="0x01",this.chainName="Ethereum",this.account="",this.rpc="",this.privateKey="",this.customProvider=null,this.update(e)}update(e){if(!e.rpc&&!e.customProvider)throw new Error("Please enter the complete initialization parameters. rpc or customProvider is necessary.");this.account=e.account,this.chainId=e.chainId||"0x01",this.chainName=e.chainName,this.rpc=e.rpc,this.privateKey=e.privateKey||"",this.customProvider=e.customProvider}getConfig(){return{chainId:this.chainId,chainName:this.chainName,account:this.account,rpc:this.rpc,customProvider:this.customProvider}}}var te={UniswapV2Router02:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",UniswapV2Factory:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",UniswapV3Quoter:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",shorterFactory:"0x870f2BD1e0121Db27f4507BAA7f69ef541e76f25",shorterBone:"0xcaedfcBab36046aAd64110CedF06bE2e6B4aec83",IPISTR:"0x888888888888f195E27A2E0F98D712952aB9348e",dexCenter:"0xaB01405828260236cDa9485115697962ccD3ED8B",priceOracle:"0xA570D2F4FdC87fd1DB980302667195d645072d0A",committee:"0xD02732b7383FD0C3617dc406cF9250Bb7e6517f7",poolGuardian:"0x865048AA101F91C5477A6a6CDbBeea4Cca2eBEcf",tradingHub:"0xf3C71f7cb3e56C5036D650A1543ab39b3f49D0eb",auctionHall:"0x8CDd86489246B32D1D037b5eB5083c6ac4e430E1",vaultButler:"0x8259d8B80015F62Df7c2b40c79239564293Bf272",farming:"0x21f05513f11194A18C21EDf2e84C3629d4F9c5b9",treasury:"0x5DC70B97049143D73CCfa539e96c0b11C1fB66ce",grabReward:"0xec3Ad55665856c44683616D2F46F19Bb4b1215D2",tradingReward:"0x4678389e27239BeeC79296617c180052ac17d411",govReward:"0xBC7eED8E74FEd4CCe9caB00F1188168D4EF876Fb",voteReward:"0x2ee29c326E0cF47Bd767F8576f44C9ede7BB3035",farmingReward:"0x59772B7eF1eC00A2094485309344651cA5F1A39f",poolReward:"0x3e23335Dc5e3D7a8511C17b803E185649a68c2c0",interestRate:"0x5f3BBB1739f06eAE19BD0cA9e22B4AA588A4940A",trancheAllocator:"0xeCE049c486c6676D101083430Bd64611Db091778",wrapRouter:"0xDc8dE7df3CB842E2304A1b007c8275a401cac709"},ne={UniswapV2Router02:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",UniswapV2Factory:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",UniswapV3Quoter:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",multicall:"0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e",ShorterFactory:"0x2b9E9E0e2BBd57b24c21e450B2cFCdd739C7a124",ShorterBone:"0x26d08eE50A5DC93D39419ec95871F1F08d0DFE60",IPISTR:"0x54c31aBbBd6811DA7fAa7f46813AD46f0bcD0101",DexCenter:"0xCCDB99dCbCC59d967a2793058f945Ef8a1cA264c",PriceOracle:"0xf0Ad4d68C0BCC1dA0254EC8049D486927BD3A143",Committee:"0x7D63458b83FFfE2Ab0a000E14d7568915FA53C03",AllyLibrary:"0x100F32Dfa30259d3C9eBf51B6a91C634F58ccf74",PoolGuardian:"0x309e4407907AaBDc755b7F988C57c524d399cA68",TradingHub:"0x1E8fc3d61c02C50dcAf0B4b744795929f7C7bA9b",AuctionHall:"0xa87456aF80A953CbD882607CCEa7D30887bDF7E0",VaultButler:"0xaA23E97842b22463F261e271Ce37dB3b43D38Bb9",Farming:"0x397587B6b2c9517d079D116a50291543BEbe7423",Treasury:"0xB21A6fD4Da2db66C42d1Fe8807E07c1d76709046",GrabRewardModel:"0x5807e55b28bD4C5f34a1009B7f0b1656f9CFcC28",TradingRewardModel:"0x609b4542Df7593c7970a208A5f671053ee876Ace",GovRewardModel:"0x27E2f1Ad4C7f3DC762ED94a8Cb6584d7E8A5C65f",VoteRewardModel:"0x94D91F5939A1f7687E9dDd02749E3CE84b56aECF",FarmingRewardModel:"0x448B9FaDfc2CfeC11ffCa24C10cCbEf65cb56073",PoolRewardModel:"0x07A645BD80DfD2aFf42b6ee9F742D531cF967ED3",InterestRateModel:"0x4866A0afE0728dc7423a380AEAFdc57Ed9cf6346",PoolGarner:"0x3156b16fB0460e57E30B545a03dF1C862F547412",PoolScatter:"0xD326B8aDE17C34126aB399da9c20Bc17d46458af",TrancheAllocator:"0xc3d1ED8e4ac0E60e634EbD4a697F493A234d473b",WrapRouter:"0x2794b877077d3d9dB0053c647972a77F74BECAAD"},ae={committee:{deployBlock:15287349}},ie={committee:{deployBlock:792e4}};function se(e,t){return{"0x01":te,"0x05":ne}[t][e]}class pe{constructor(e){this.config=e}getCurrentBlockNumber(){return n(this,void 0,void 0,(function*(){const e=yield this.getProvider(void 0);return yield e.getBlockNumber()}))}getProvider(t=!1){return n(this,void 0,void 0,(function*(){const n=this.config.customProvider;if(n){if(!t)return n;const e=this.config.account||null;return n.getSigner(e)}const a=this.config.rpc,i=Number(this.config.chainId);return i&&a?new e.providers.StaticJsonRpcProvider(a,{name:this.config.chainName,chainId:i}):a?new e.providers.JsonRpcProvider(a):e.getDefaultProvider()}))}getMulticallProvider(){return n(this,void 0,void 0,(function*(){const e=yield this.getProvider(!1),n=new t.Provider(e);return yield n.init(),n}))}getContractAddress(e){return e?se(e,this.config.chainId):""}getContractDeployBlock(e){return e?function(e,t){return{"0x01":ae,"0x05":ie}[t][e].deployBlock}(e,this.config.chainId):""}getContractByName(e,t,n=!0){const a=se(e,this.config.chainId);return this.createContract(a,t,n)}getContractByAddr(e,t,n=!0){return this.createContract(e,t,n)}createContract(t,a,i){return n(this,void 0,void 0,(function*(){if("object"==typeof window){const n=yield this.getProvider(!i);return new e.Contract(t,a,n)}{const n=yield this.getProvider(!1),s=new e.Contract(t,a,n);return i?s:this.getContractWithSigner(s,n)}}))}getContractWithSigner(t,n){const a=this.config.privateKey,i=new e.Wallet(a,n);return t.connect(i)}getMulticallContractByName(e,n){const a=se(e,this.config.chainId);return new t.Contract(a,n)}getMulticallContractByAddr(e,n){return new t.Contract(e,n)}getLogs(e){return n(this,void 0,void 0,(function*(){const t=yield this.getProvider(),{fromBlock:a,toBlock:i,topics:s,contractName:p,contractAddr:y}=e,u=y||this.getContractAddress(p||""),r=Number(i||0)-Number(a||0),o=1e5;if(r<=o||"latest"===i){return(yield t.getLogs({fromBlock:a,toBlock:i,topics:s,address:u}))||[]}let d=[];const l=[],m=Math.floor(r/o)+1;for(let e=0,t=0;e<m;e++)l.push({fromBlock:Number(a)+e*o+t,toBlock:e<m-1?Number(a)+(e+1)*o+t:i,topics:s,address:u}),t+=1;return yield Promise.all(l.map((e=>n(this,void 0,void 0,(function*(){const n=yield t.getLogs(e);d=[...n,...d]}))))),d}))}decodeLogs(t,n){try{const a=new e.utils.Interface(n).parseLog(t);return{hash:t.transactionHash,blockNumber:t.blockNumber,args:a.args,event:a.name}}catch(e){return e}}encodePath(e,t){if(e.length!=t.length+1)throw new Error("path/fee lengths do not match");let n="0x";for(let a=0;a<t.length;a++)n+=e[a].slice(2),n+=t[a].toString(16).padStart(6,"0");return n+=e[e.length-1].slice(2),n.toLowerCase()}encodeFilterTopics(t,a,i=[]){return n(this,void 0,void 0,(function*(){return new e.utils.Interface(t).encodeFilterTopics(a,i)}))}}let ye=null;function ue(){if(!ye)throw new Error("Please init Thigh");return ye}const re=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"proposer",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"title",type:"string"}],name:"CommunityProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"depositAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"DepositCommittee",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"proposer",type:"address"}],name:"PoolProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ps",type:"uint256"}],name:"ProposalStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"direction",type:"bool"},{indexed:!1,internalType:"uint256",name:"voteShare",type:"uint256"}],name:"ProposalVoted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldRulerThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newRulerThreshold",type:"uint256"}],name:"RulerThresholdSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxVotingDays",type:"uint256"}],name:"VotingMaxDaysSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"WithdrawCommittee",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"displayable",type:"bool"}],name:"changeProposalVisibility",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"committeeProposalThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"title",type:"string"}],name:"createCommunityProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakedTokenAddr",type:"address"},{internalType:"uint256",name:"_leverage",type:"uint256"},{internalType:"uint256",name:"_durationDays",type:"uint256"}],name:"createPoolProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"executedCommunityProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_proposalIds",type:"uint256[]"},{internalType:"uint256[]",name:"_failedProposals",type:"uint256[]"}],name:"executedProposals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getAgainstShares",outputs:[{internalType:"uint256",name:"voteShare",type:"uint256"},{internalType:"uint256",name:"totalShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getCommunityProposalInfo",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getForShares",outputs:[{internalType:"uint256",name:"voteShare",type:"uint256"},{internalType:"uint256",name:"totalShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getQueuedProposals",outputs:[{internalType:"uint256[]",name:"_queuedProposals",type:"uint256[]"},{internalType:"uint256[]",name:"_failedProposals",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getUserShares",outputs:[{internalType:"uint256",name:"totalShare",type:"uint256"},{internalType:"uint256",name:"lockedShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"catagory",type:"uint256"}],name:"getVoteProposals",outputs:[{internalType:"uint256[]",name:"_poolForProposals",type:"uint256[]"},{internalType:"uint256[]",name:"_poolAgainstProposals",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_stableToken",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ipistrStakedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"contract IIpistrToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isRuler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxVotingDays",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolMetersMap",outputs:[{internalType:"address",name:"tokenContract",type:"address"},{internalType:"uint32",name:"leverage",type:"uint32"},{internalType:"uint32",name:"durationDays",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposalCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposalFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposalGallery",outputs:[{internalType:"uint32",name:"id",type:"uint32"},{internalType:"address",name:"proposer",type:"address"},{internalType:"uint32",name:"catagory",type:"uint32"},{internalType:"uint64",name:"startBlock",type:"uint64"},{internalType:"uint64",name:"endBlock",type:"uint64"},{internalType:"uint256",name:"forShares",type:"uint256"},{internalType:"uint256",name:"againstShares",type:"uint256"},{internalType:"enum CommitteStorage.ProposalStatus",name:"status",type:"uint8"},{internalType:"bool",name:"displayable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposalIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rulerThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalFee",type:"uint256"}],name:"setProposalFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"threshold",type:"uint256"}],name:"setProposalQuorum",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRulerThreshold",type:"uint256"}],name:"setRulerThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxVotingDays",type:"uint256"}],name:"setVotingDays",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stableToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalIpistrStakedShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userLockedShare",outputs:[{internalType:"uint256",name:"forShares",type:"uint256"},{internalType:"uint256",name:"againstShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"direction",type:"bool"},{internalType:"uint256",name:"voteShare",type:"uint256"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];function oe(e=!0){return n(this,void 0,void 0,(function*(){return yield ue().ethUtil.getContractByName("Committee",re,e)}))}function de(){return ue().ethUtil.getMulticallContractByName("Committee",re)}const le=new Map;le.set("committee",re),le.set("tradingHub",a),le.set("auctionHall",O);let me=null;function ce(){return n(this,void 0,void 0,(function*(){return me||(me=yield ue().ethUtil.getProvider(),me)}))}const be={on:function(t,a,i,s=""){return n(this,void 0,void 0,(function*(){const n=yield ce(),p=le.get(t),y=ue().ethUtil.getContractAddress(t),u=yield ue().ethUtil.encodeFilterTopics(p,a);if(s){const t=new e.utils.AbiCoder;u.push(t.encode(["address"],[s]))}const r={topics:u,address:y};n.on(r,(t=>{const n=new e.utils.Interface(p).parseLog(t);i({log:n,origin:t})}))}))},off:function(e,t){return n(this,void 0,void 0,(function*(){const n=yield ce();if(!n)return;const a=le.get(e),i=ue().ethUtil.getContractAddress(e),s={topics:yield ue().ethUtil.encodeFilterTopics(a,t),address:i};n.off(s)}))}};function Te(){const{ethereum:e}=globalThis;return e}function fe(){const e=Te();return Boolean(e&&e.isMetaMask)}var ve=Object.freeze({__proto__:null,isMetaMaskAvailable:fe,getMetamaskProvider:function(){if(fe()){return new e.ethers.providers.Web3Provider(Te(),"any")}return console.log("Please install Metamask first"),null},fetchChainId:function(){return n(this,void 0,void 0,(function*(){if(fe()){const e=Te();return yield e.request({method:"eth_chainId"})}return console.log("Please install Metamask first")}))},fetchAccount:function(){return n(this,void 0,void 0,(function*(){if(fe()){const e=Te();return yield e.request({method:"eth_requestAccounts"})}return console.log("Please install Metamask first")}))},connectMetamask:function(){return n(this,void 0,void 0,(function*(){Te().request({method:"eth_requestAccounts"}).then((e=>e)).catch((e=>{4001===e.code?console.log("Please connect to MetaMask."):console.error(e)}))}))},signMessage:function(){return n(this,void 0,void 0,(function*(){}))}});exports.Thigh=class{constructor(e){this.config=new ee(e),this.ethUtil=new pe(this.config),this.module={pool:T,farming:M,reward:I,committee:E,trading:q,position:j,liquidation:Y,token:Z,account:$},ye=this}update(e){this.config.update(e)}getConfig(){return this.config.getConfig()}},exports.eventListener=be,exports.metamask=ve;
//# sourceMappingURL=index.cjs.js.map
