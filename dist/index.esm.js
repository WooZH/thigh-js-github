import{utils as e,BigNumber as t,providers as n,getDefaultProvider as a,Contract as i,Wallet as s,ethers as p}from"ethers";import{Provider as y,Contract as u}from"ethers-multicall";function r(e,t,n,a){return new(n||(n=Promise))((function(i,s){function p(e){try{u(a.next(e))}catch(e){s(e)}}function y(e){try{u(a.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(p,y)}u((a=a.apply(e,t||[])).next())}))}const o=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionClosing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionDecreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionIncreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"orderSize",type:"uint256"}],name:"PositionOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"PositionOverdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"allPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPositions",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"},{internalType:"uint256[]",name:"positionsState",type:"uint256[]"}],name:"batchUpdatePositionState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"buyCover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"}],name:"deliver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"dexCenter",outputs:[{internalType:"contract IDexCenter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"executePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"getBatchPositionState",outputs:[{internalType:"uint256[]",name:"positionsState",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getPositionState",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getPositions",outputs:[{internalType:"address[]",name:"positions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByAccount",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByPoolId",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionState",type:"uint256"}],name:"getPositionsByState",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_dexCenter",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"isPoolWithdrawable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"poolPositions",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolStatsMap",outputs:[{internalType:"uint256",name:"opens",type:"uint256"},{internalType:"uint256",name:"overdrawns",type:"uint256"},{internalType:"uint256",name:"closings",type:"uint256"},{internalType:"uint256",name:"ends",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionBlocks",outputs:[{internalType:"uint256",name:"openBlock",type:"uint256"},{internalType:"uint256",name:"closingBlock",type:"uint256"},{internalType:"uint256",name:"overdrawnBlock",type:"uint256"},{internalType:"uint256",name:"closedBlock",type:"uint256"},{internalType:"uint256",name:"lastSellBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionInfoMap",outputs:[{internalType:"uint64",name:"poolId",type:"uint64"},{internalType:"address",name:"strToken",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"sellShort",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"}],name:"setBatchClosePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newDexCenter",type:"address"}],name:"setDexCenter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPriceOracle",type:"address"}],name:"setPriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"positionState",type:"uint256"}],name:"updatePositionState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userPositionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userPositions",outputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"poolId",type:"uint64"}],stateMutability:"view",type:"function"}];function d(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("TradingHub",o,e)}))}const l=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolDelisted",type:"event"},{anonymous:!1,inputs:[],name:"PoolGuardianInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"leverage",type:"uint256"},{internalType:"uint256",name:"durationDays",type:"uint256"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"addPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"createPoolIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getCreatedPoolIds",outputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolIds",outputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getPoolInfo",outputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"strToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_sig",type:"bytes4"}],name:"getStrPoolImplementations",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"leverageAllowedList",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"listPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxLeverage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"address",name:"strToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakedToken",type:"address"},{internalType:"enum IPoolGuardian.PoolStatus",name:"status",type:"uint8"}],name:"queryPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"uint256",name:"newMaxLeverage",type:"uint256"}],name:"setMaxLeverage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"enum IPoolGuardian.PoolStatus",name:"status",type:"uint8"}],name:"setStateFlag",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4[]",name:"_sigs",type:"bytes4[]"},{internalType:"address",name:"_implementation",type:"address"}],name:"setStrPoolImplementations",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newWrapRouter",type:"address"}],name:"setWrapRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"",type:"bytes4"}],name:"strPoolImplementations",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function m(){return r(this,void 0,void 0,(function*(){return be().ethUtil.getContractByName("PoolGuardian",l)}))}const c=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Borrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"pending",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"}],name:"PoolActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Repay",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WrappedEtherAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"currentRoundTradingFeeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getMetaInfo",outputs:[{internalType:"address",name:"creator_",type:"address"},{internalType:"address",name:"stakedToken_",type:"address"},{internalType:"address",name:"stableToken_",type:"address"},{internalType:"address",name:"wrappedToken_",type:"address"},{internalType:"uint256",name:"leverage_",type:"uint256"},{internalType:"uint256",name:"durationDays_",type:"uint256"},{internalType:"uint256",name:"startBlock_",type:"uint256"},{internalType:"uint256",name:"endBlock_",type:"uint256"},{internalType:"uint256",name:"id_",type:"uint256"},{internalType:"uint256",name:"stakedTokenDecimals_",type:"uint256"},{internalType:"uint256",name:"stableTokenDecimals_",type:"uint256"},{internalType:"enum IPoolGuardian.PoolStatus",name:"stateFlag_",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_creator",type:"address"},{internalType:"address",name:"_stakedToken",type:"address"},{internalType:"address",name:"_stableToken",type:"address"},{internalType:"address",name:"_wrapRouter",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_poolRewardModel",type:"address"},{internalType:"uint256",name:"_poolId",type:"uint256"},{internalType:"uint256",name:"_leverage",type:"uint256"},{internalType:"uint256",name:"_durationDays",type:"uint256"},{internalType:"uint256",name:"__blocksPerDay",type:"uint256"},{internalType:"address",name:"_WrappedEtherAddr",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isLegacyLeftover",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"list",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolRewardModel",outputs:[{internalType:"contract IPoolRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolUserUpdateBlock",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"positionInfoMap",outputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"bool",name:"closedFlag",type:"bool"},{internalType:"uint64",name:"lastestFeeBlock",type:"uint64"},{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"},{internalType:"uint256",name:"remnantAsset",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPoolGuardian.PoolStatus",name:"newStateFlag",type:"uint8"}],name:"setStateFlag",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTradingFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tradingFeeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tradingVolumeOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userStakedTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userWrappedTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"percent",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wrapRouter",outputs:[{internalType:"contract IWrapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wrappedToken",outputs:[{internalType:"contract ISRC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"phase1Used",type:"uint256"},{internalType:"uint256",name:"phase2Used",type:"uint256"},{internalType:"uint256",name:"legacyUsed",type:"uint256"}],name:"auctionClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"positions",type:"address[]"}],name:"batchUpdateFundingFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"borrow",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isLegacyLeftover",type:"bool"}],name:"delivery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"bool",name:"isTetherToken",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"dexCover",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"currentPrice",type:"uint256"},{internalType:"address",name:"position",type:"address"}],name:"estimatePositionState",outputs:[{internalType:"enum ITradingHub.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getFundingFee",outputs:[{internalType:"uint256",name:"totalFee_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getInterestRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"getPositionAssetInfo",outputs:[{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isSwapRouterV3",type:"bool"},{internalType:"bool",name:"isTetherToken",type:"bool"},{internalType:"address",name:"dexCenter",type:"address"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"repay",outputs:[{internalType:"bool",name:"isClosed",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stableTillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"updatePositionToAuctionHall",outputs:[{internalType:"enum ITradingHub.PositionState",name:"positionState",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"withdrawRemnantAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"percent",type:"uint256"}],name:"getWithdrawableAmountByPercent",outputs:[{internalType:"uint256",name:"withdrawAmount",type:"uint256"},{internalType:"uint256",name:"burnAmount",type:"uint256"},{internalType:"uint256",name:"stableTokenAmount",type:"uint256"}],stateMutability:"view",type:"function"}];function b(e,t=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByAddr(e,c,t)}))}function T(e){return be().ethUtil.getMulticallContractByAddr(e,c)}const f=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function v(e){return be().ethUtil.getMulticallContractByAddr(e,f)}const g=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"controvertibleAmounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function M(e){return r(this,void 0,void 0,(function*(){const t=yield m(),n=yield t.getPoolInfo(e),a=yield b(n.strToken),i=yield a.getMetaInfo();return Object.assign(Object.assign({},i),{strToken:n.strToken})}))}function w(e,t,n){return r(this,void 0,void 0,(function*(){const a=yield b(e,!1),i=yield a.withdraw(t,n);return yield i.wait()}))}const h=new Map;var R=Object.freeze({__proto__:null,getPools:function(e="",t=0){return r(this,void 0,void 0,(function*(){const n=e||"0x0000000000000000000000000000000000000000";let a=[];a=t?[t]:[1,2,3,4];const i=[],s=yield be().ethUtil.getMulticallContractByName("PoolGuardian",l);a.forEach((e=>{i.push(s.queryPools(n,e))}));const p=yield be().ethUtil.getMulticallProvider();return(yield p.all(i)).map((e=>Object.assign({},e)))}))},getMetaInfo:M,getPoolInfo:function(e){return r(this,void 0,void 0,(function*(){const t=yield m(),n=yield t.getPoolInfo(e),a=n.strToken,i=n.stateFlag,s=T(a),p=yield v(a),y=yield be().ethUtil.getMulticallContractByName("WrapRouter",g),u=[];u.push(s.getMetaInfo()),u.push(p.totalSupply()),u.push(y.controvertibleAmounts(a));const r=yield be().ethUtil.getMulticallProvider(),o=yield r.all(u),d=o[0],l=o[1],c=o[2];return{creator:d.creator_,leverage:d.leverage_,strToken:a,stakedToken:{address:d.stakedToken_,decimals:d.stakedTokenDecimals_},stableToken:{address:d.stableToken_,decimals:d.stableTokenDecimals_},totalDeposited:l,availableAmount:c,durationDays:d.durationDays_,status:i,startBlock:d.startBlock_,endBlock:d.endBlock_}}))},getParticipantNumber:function(t){return r(this,void 0,void 0,(function*(){let n=0,a=0;const i=yield m(),s=(yield i.getPoolInfo(t)).strToken,p=yield b(s),y=yield p.getMetaInfo(),u=y.startBlock_,r=y.endBlock_,d=yield be().ethUtil.encodeFilterTopics(c,"Deposit");n=(yield be().ethUtil.getLogs({fromBlock:Number(u.toString()),toBlock:Number(r.toString()),topics:d,contractAddr:s})).length||0;const l=yield be().ethUtil.encodeFilterTopics(o,"PositionOpened"),T=new e.AbiCoder;l.push(T.encode(["uint256"],[t]));return a=(yield be().ethUtil.getLogs({fromBlock:Number(u.toString()),toBlock:Number(r.toString()),topics:l,contractName:"tradingHub"})).length||0,{providerCount:n,traderCount:a}}))},deposit:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield b(e,!1),a=yield n.deposit(t);return yield a.wait()}))},withdrawByAmount:function(e,t){return r(this,void 0,void 0,(function*(){return w(e,0,t)}))},withdrawByPercent:function(e,n){return r(this,void 0,void 0,(function*(){const a=t.from("0");return w(e,n,a)}))},approve:function(e,t="MAX"){return r(this,void 0,void 0,(function*(){let n=t;"MAX"===n&&(n="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const a=yield b(e,!1),i=yield a.approve(be().ethUtil.getContractAddress("shorterBone"),n);return yield i.wait()}))},allowance:function(e,t=null){return r(this,void 0,void 0,(function*(){const n=yield b(e);return yield n.allowance(t,be().ethUtil.getContractAddress("shorterBone"))}))},getLogs:function(t,n){return r(this,void 0,void 0,(function*(){const{startBlock_:a,endBlock_:i,strToken:s}=yield M(t),p=Number(a.toString()),y=Number(i.toString()),u=yield be().ethUtil.encodeFilterTopics(c,"Deposit"),r=yield be().ethUtil.encodeFilterTopics(c,"Withdraw"),d=yield be().ethUtil.encodeFilterTopics(o,"PositionOpened"),l=yield be().ethUtil.encodeFilterTopics(o,"PositionIncreased"),m=yield be().ethUtil.encodeFilterTopics(o,"PositionDecreased");h.set(u[0],"Deposit"),h.set(r[0],"Withdraw"),h.set(d[0],"Open"),h.set(l[0],"Borrow"),h.set(m[0],"Repay");const b=new e.AbiCoder,T=t.toString(),f=b.encode(["address"],[n]),v=b.encode(["uint256"],[T]),g={fromBlock:p,toBlock:y,topics:[[u[0],r[0]],f],contractAddr:s},w={fromBlock:p,toBlock:y,topics:[[d[0],l[0],m[0]],v,f],contractName:"tradingHub"},R=yield be().ethUtil.getLogs(g),x=yield be().ethUtil.getLogs(w),k=R.map((t=>function(t){const{topics:n,data:a}=t,i=new e.AbiCoder,s=h.get(n[0]),p=i.decode(["uint256"],a);return{operation:s,amount:p[0]}}(t))),P=x.map((t=>function(t){const{topics:n,data:a}=t,i=new e.AbiCoder,s=h.get(n[0]),p=i.decode(["uint256"],a);return{operation:s,amount:p[0]}}(t)));return{poolId:t,user:n,logs:[...k,...P]}}))}});const x=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Stake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"UnStake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"allPendingRewards",outputs:[{internalType:"uint256",name:"govRewards",type:"uint256"},{internalType:"uint256",name:"farmingRewards",type:"uint256"},{internalType:"uint256",name:"voteAgainstRewards",type:"uint256"},{internalType:"uint256",name:"tradingRewards",type:"uint256"},{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"tradingRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"stakedRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"createRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"voteRewardPools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farmingRewardModel",outputs:[{internalType:"contract IFarmingRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakedAmount",outputs:[{internalType:"uint256",name:"userStakedAmount_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"govRewardModel",outputs:[{internalType:"contract IGovRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"govRewards",type:"uint256"},{internalType:"uint256",name:"farmingRewards",type:"uint256"},{internalType:"uint256",name:"voteAgainstRewards",type:"uint256"},{internalType:"uint256[]",name:"tradingRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"stakedRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"createRewardPools",type:"uint256[]"},{internalType:"uint256[]",name:"voteRewardPools",type:"uint256[]"}],name:"harvestAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lpToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolRewardModel",outputs:[{internalType:"contract IPoolRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_lpToken",type:"address"}],name:"setLpToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tradingRewardModel",type:"address"},{internalType:"address",name:"_farmingRewardModel",type:"address"},{internalType:"address",name:"_govRewardModel",type:"address"},{internalType:"address",name:"_poolRewardModel",type:"address"},{internalType:"address",name:"_voteRewardModel",type:"address"}],name:"setRewardModel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tradingRewardModel",outputs:[{internalType:"contract ITradingRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"unStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userStakedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"voteRewardModel",outputs:[{internalType:"contract IVoteRewardModel",name:"",type:"address"}],stateMutability:"view",type:"function"}];function k(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("Farming",x,e)}))}const P=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getStrPool",outputs:[{internalType:"address",name:"strToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"harvestByStrToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingCreatorRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingPoolReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingVoteRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"uint64",name:"allocPoint",type:"uint64"},{internalType:"uint64",name:"multiplier",type:"uint64"},{internalType:"uint64",name:"lastRewardBlock",type:"uint64"},{internalType:"uint256",name:"accIPISTRPerShare",type:"uint256"},{internalType:"uint256",name:"accStablePerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"rewardDebtInfoMap",outputs:[{internalType:"uint256",name:"poolIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"poolStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorStableRewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"},{internalType:"uint256[]",name:"_allocPoints",type:"uint256[]"}],name:"setAllocPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ipistrPerBlock",type:"uint256"}],name:"setIpistrPerBlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAllocWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var A=Object.freeze({__proto__:null,getAllPendingRewards:function(e){return r(this,void 0,void 0,(function*(){const t=yield k(),n=yield t.allPendingRewards(e);return{govRewards:n.govRewards,farmingRewards:n.farmingRewards,voteAgainstRewards:n.voteAgainstRewards,tradingRewards:n.tradingRewards,stakedRewards:n.stakedRewards,creatorRewards:n.creatorRewards,voteRewards:n.voteRewards,tradingRewardPools:n.tradingRewardPools,stakedRewardPools:n.stakedRewardPools,createRewardPools:n.createRewardPools,voteRewardPools:n.voteRewardPools}}))},harvestAllRewards:function(e){return r(this,void 0,void 0,(function*(){const t=yield k(!1),n=yield t.harvestAll(e.govRewards,e.farmingRewards,e.voteAgainstRewards,e.tradingRewardPools,e.stakedRewardPools,e.createRewardPools,e.voteRewardPools);return yield n.wait()}))},getPendingReward:function(e){return r(this,void 0,void 0,(function*(){const t=yield function(){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("FarmingReward",P)}))}(),n=yield t.pendingReward(e);return{reward:n.rewards_,unlockedReward:n.unLockRewards_}}))},harvest:function(){return r(this,void 0,void 0,(function*(){const e=yield k(),t=yield e.harvest();return yield t.wait()}))}});const I=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"auctionHall",outputs:[{internalType:"contract IAuctionHall",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"batchClosePositionGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"closePositionGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"failedProposalGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getAuctionHallChangedPositions",outputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"},{internalType:"bytes[]",name:"phase1Ranks",type:"bytes[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getBatchClosePositions",outputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getBatchLegacyPositions",outputs:[{components:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address[]",name:"positions",type:"address[]"}],internalType:"struct ITradingHub.BatchPositionInfo[]",name:"batchPositionInfos",type:"tuple[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getQueuePoolProposals",outputs:[{internalType:"uint256[]",name:"queuedProposals",type:"uint256[]"},{internalType:"uint256[]",name:"failedProposals",type:"uint256[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_unUsedGasLimit",type:"uint256"}],name:"getTradingHubChangedPositions",outputs:[{internalType:"address[]",name:"resPositions",type:"address[]"},{internalType:"uint256",name:"unUsedGasLimit_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"strToken",type:"address"},{internalType:"address[]",name:"openPositions",type:"address[]"}],name:"getTradingHubChangedPositionsByPool",outputs:[{internalType:"address[]",name:"resPositions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"grabRewardPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"grabRewardPerGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes32",name:"_signature",type:"bytes32"}],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_auctionHall",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastGrabBlockNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"overdrawnGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"estimateGasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes32",name:"_signature",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"phase1RankGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"queuedProposalGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_maxGasLimit",type:"uint256"},{internalType:"uint256",name:"_baseGasLimit",type:"uint256"},{internalType:"uint256",name:"_closePositionGasLimit",type:"uint256"},{internalType:"uint256",name:"_batchClosePositionGasLimit",type:"uint256"},{internalType:"uint256",name:"_recoverGasLimit",type:"uint256"},{internalType:"uint256",name:"_phase1RankGasLimit",type:"uint256"},{internalType:"uint256",name:"_overdrawnGasLimit",type:"uint256"},{internalType:"uint256",name:"_queuedProposalGasLimit",type:"uint256"},{internalType:"uint256",name:"_failedProposalGasLimit",type:"uint256"}],name:"setGasLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newGrabRewardPerBlock",type:"uint256"},{internalType:"uint256",name:"newGrabRewardPerGasLimit",type:"uint256"}],name:"setGrabReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"}];function C(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("GrabReward",I,e)}))}const B=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakedAmount",outputs:[{internalType:"uint256",name:"_stakedAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_farming",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newApyPoint",type:"uint256"}],name:"setApyPoint",outputs:[],stateMutability:"nonpayable",type:"function"}];const _=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"}],name:"getStrPool",outputs:[{internalType:"address",name:"strToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"harvestByStrToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingCreatorRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingPoolReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"stakedRewards",type:"uint256"},{internalType:"uint256",name:"creatorRewards",type:"uint256"},{internalType:"uint256",name:"voteRewards",type:"uint256"},{internalType:"uint256[]",name:"stakedPools",type:"uint256[]"},{internalType:"uint256[]",name:"createPools",type:"uint256[]"},{internalType:"uint256[]",name:"votePools",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"poolId",type:"uint256"}],name:"pendingVoteRewards",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256",name:"rewards0",type:"uint256"},{internalType:"uint256",name:"rewards1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfoMap",outputs:[{internalType:"uint64",name:"allocPoint",type:"uint64"},{internalType:"uint64",name:"multiplier",type:"uint64"},{internalType:"uint64",name:"lastRewardBlock",type:"uint64"},{internalType:"uint256",name:"accIPISTRPerShare",type:"uint256"},{internalType:"uint256",name:"accStablePerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"rewardDebtInfoMap",outputs:[{internalType:"uint256",name:"poolIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"poolStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"voterStableRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorIpiStrRewardDebt",type:"uint256"},{internalType:"uint256",name:"creatorStableRewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_poolIds",type:"uint256[]"},{internalType:"uint256[]",name:"_allocPoints",type:"uint256[]"}],name:"setAllocPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ipistrPerBlock",type:"uint256"}],name:"setIpistrPerBlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAllocWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function S(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("PoolReward",_,e)}))}const E=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"uint256[]",name:"poolIds",type:"uint256[]"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_farming",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"},{internalType:"uint256[]",name:"poolIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"tradingRewardDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];const O=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"farming",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"harvest",outputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_farming",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ipistrPerProposal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"pendingReward",outputs:[{internalType:"uint256",name:"_reward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"setIpistrPerProposal",outputs:[],stateMutability:"nonpayable",type:"function"}];var L=Object.freeze({__proto__:null,getCommitteeReward:function(e){return r(this,void 0,void 0,(function*(){const t=yield function(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("GovReward",B,e)}))}();return yield t.pendingReward(e)}))},getGrabReward:function(){return r(this,void 0,void 0,(function*(){const e=yield C(),t=yield e.pendingReward();return{reward:t.reward,estimateGasLimit:t.estimateGasLimit,data:t.data,signature:t._signature}}))},grabReward:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield C(!1),a=yield n.harvest(e,t);return yield a.wait()}))},getPoolIpistrPerBlock:function(){return r(this,void 0,void 0,(function*(){const e=yield S();return yield e.ipistrPerBlock()}))},getPoolRewardMap:function(e){return r(this,void 0,void 0,(function*(){const t=yield S(),n=yield t.poolInfoMap(e);return{accIPISTRPerShare:n.accIPISTRPerShare,allocPoint:n.allocPoint,multiplier:n.multiplier,lastRewardBlock:n.lastRewardBlock}}))},totalAllocPoint:function(){return r(this,void 0,void 0,(function*(){const e=yield S();return yield e.totalAllocWeight()}))},getPendingIpistrs:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield S();return yield n.pendingPoolReward(t,e)}))},getTradingReward:function(e){return r(this,void 0,void 0,(function*(){const t=yield function(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("TradingReward",E,e)}))}(),n=yield t.pendingReward(e);return{rewards:n.rewards,poolIds:n.poolIds}}))},getPoolFailureReward:function(e){return r(this,void 0,void 0,(function*(){const t=yield function(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("VoteReward",O,e)}))}();return yield t.pendingReward(e)}))}});function N(e,t){const n=[];for(;e.length>0;){const a=e.splice(0,t);n.push(a)}return n}function D(){return r(this,void 0,void 0,(function*(){const e=be().ethUtil.getContractDeployBlock("committee"),t=yield be().ethUtil.encodeFilterTopics(fe,"PoolProposalCreated");return(yield be().ethUtil.getLogs({fromBlock:e,toBlock:"latest",topics:t,contractName:"committee"})).map((e=>be().ethUtil.decodeLogs(e,fe))).map((e=>({proposalId:e.args.proposalId,proposer:e.args.proposer,blockNumber:e.blockNumber})))}))}function U(e){return r(this,void 0,void 0,(function*(){const t=yield ve(),n=yield t.proposalGallery(e);return{id:e,status:n.status,proposer:n.proposer,category:n.catagory,forShares:n.forShares,againstShares:n.againstShares,endBlock:n.endBlock,startBlock:n.startBlock}}))}function F(){return r(this,void 0,void 0,(function*(){const e=yield ve();return yield e.totalIpistrStakedShare()}))}var G=Object.freeze({__proto__:null,getAllRulers:function(){return r(this,void 0,void 0,(function*(){const e=be().ethUtil.getContractDeployBlock("committee"),t=yield be().ethUtil.encodeFilterTopics(fe,"DepositCommittee"),n=yield be().ethUtil.getLogs({fromBlock:e,toBlock:"latest",topics:t,contractName:"committee"}),a=ge(),i=[],s=yield F(),p=new Map,y=n.map((e=>be().ethUtil.decodeLogs(e,fe))).map((e=>({account:e.args.user}))).filter((e=>!p.has(e.account)&&p.set(e.account,1)));y.map((e=>{i.push(a.getUserShares(e.account))}));const u=yield be().ethUtil.getMulticallProvider(),r=yield u.all(i);return y.map(((e,t)=>{const n=r[t].totalShare.toString()/s.toString();return{account:e.account,amount:r[t].totalShare,voteWeight:n}})).filter((e=>e.voteWeight>.001)).sort(((e,t)=>t.voteWeight-e.voteWeight))}))},getProposalIdList:D,getAllProposals:function(){return r(this,void 0,void 0,(function*(){const e=yield D(),t=ge(),n=[];e.forEach((e=>{n.push(t.proposalGallery(e.proposalId)),n.push(t.poolMetersMap(e.proposalId))}));const a=yield be().ethUtil.getMulticallProvider();return N(yield a.all(n),2).map((e=>{const t=e[0],n=e[1];return{proposalId:t.id,status:t.status,proposer:t.proposer,startBlock:t.startBlock,endBlock:t.endBlock,catagory:t.catagory,totalFor:t.forShares,totalAgainst:t.againstShares,duration:n.durationDays,leverage:n.leverage,tokenAddress:n.tokenContract}}))}))},getProposalHistory:function(t){return r(this,void 0,void 0,(function*(){const{startBlock:n}=yield U(t),a=yield be().ethUtil.encodeFilterTopics(fe,"ProposalStatusChanged"),i=Number(n.toString()),s=new e.AbiCoder;a.push(s.encode(["uint256"],[t]));return(yield be().ethUtil.getLogs({fromBlock:i,toBlock:"latest",topics:a,contractName:"committee"})).map((e=>be().ethUtil.decodeLogs(e,fe))).map((e=>({proposalId:e.args.proposalId,status:e.args.ps.toString(),blockNumber:e.blockNumber})))}))},getProposalInfoById:U,createPoolProposal:function(e,t,n,a){return r(this,void 0,void 0,(function*(){const i=yield ve(!1),s=yield i.createPoolProposal(e,t,n,{from:a});return yield s.wait()}))},createEthPoolProposal:function(e,t,n){return r(this,void 0,void 0,(function*(){const a=yield ve(!1),i=yield a.createPoolProposal("0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",e,t,{from:n});return yield i.wait()}))},poolMetersMap:function(e){return r(this,void 0,void 0,(function*(){const t=yield ve(),{durationDays:n,leverage:a,tokenContract:i}=yield t.poolMetersMap(e);return{durationDays:n,leverage:a,tokenContract:i}}))},withdraw:function(n,a){return r(this,void 0,void 0,(function*(){let i=n;t.isBigNumber(n)||(i=e.parseUnits(i.toString(),18));const s=yield ve(!1),p=yield s.withdraw(i,{from:a});return yield p.wait()}))},deposit:function(n,a){return r(this,void 0,void 0,(function*(){let i=n;t.isBigNumber(n)||(i=e.parseUnits(i.toString(),18));const s=yield ve(!1),p=yield s.deposit(i,{from:a});return yield p.wait()}))},vote:function(n,a,i){return r(this,void 0,void 0,(function*(){let s=i;t.isBigNumber(i)&&(s=e.parseUnits(s.toString(),18));const p=yield ve(!1),y=yield p.vote(n,a,s);return yield y.wait()}))},isRuler:function(e){return r(this,void 0,void 0,(function*(){const t=yield ve();return yield t.isRuler(e)}))},getTotalIpistrStakedShare:F,getUserShares:function(e){return r(this,void 0,void 0,(function*(){const t=yield ve(),n=yield t.getUserShares(e);return{lockedShare:n.lockedShare,totalShare:n.totalShare}}))}});const z=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"uint256",name:"phase",type:"uint256"}],name:"AuctionFinished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"AuctionInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"debtSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"usedCash",type:"uint256"},{indexed:!1,internalType:"uint256",name:"dexCoverReward",type:"uint256"}],name:"BidKatana",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"bidSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"BidTanto",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"}],name:"Phase1Rollback",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"stableTokenSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtTokenSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"Retrieve",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WrappedEtherAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"allPhase1BidRecords",outputs:[{internalType:"bool",name:"takeBack",type:"bool"},{internalType:"uint64",name:"bidBlock",type:"uint64"},{internalType:"address",name:"bidder",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"auctionMaxBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"auctionPositonInfoMap",outputs:[{internalType:"address",name:"strPool",type:"address"},{internalType:"address",name:"stakedToken",type:"address"},{internalType:"address",name:"stableToken",type:"address"},{internalType:"uint256",name:"closingBlock",type:"uint256"},{internalType:"uint256",name:"totalSize",type:"uint256"},{internalType:"uint256",name:"unsettledCash",type:"uint256"},{internalType:"uint256",name:"stakedTokenDecimals",type:"uint256"},{internalType:"uint256",name:"stableTokenDecimals",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"bytes",name:"path",type:"bytes"}],name:"bidKatana",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"bidSorted",outputs:[{internalType:"uint256[]",name:"_bidRanks",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],name:"bidTanto",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"dexCenter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"estimateAuctionPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"}],name:"executePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"address",name:"strPool",type:"address"},{internalType:"uint256",name:"closingBlock",type:"uint256"}],name:"initAuctionPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_dexCenter",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_poolGuardian",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_committee",type:"address"},{internalType:"address",name:"_wrappedEtherAddr",type:"address"},{internalType:"uint256",name:"_phase1MaxBlock",type:"uint256"},{internalType:"uint256",name:"_auctionMaxBlock",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"inquire",outputs:[{internalType:"address[]",name:"closedPositions",type:"address[]"},{internalType:"address[]",name:"legacyPositions",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"phase1Infos",outputs:[{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"liquidationPrice",type:"uint256"},{internalType:"bool",name:"isSorted",type:"bool"},{internalType:"bool",name:"flag",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"phase1MaxBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"phase2Infos",outputs:[{internalType:"bool",name:"flag",type:"bool"},{internalType:"bool",name:"isWithdrawn",type:"bool"},{internalType:"address",name:"rulerAddr",type:"address"},{internalType:"uint256",name:"debtSize",type:"uint256"},{internalType:"uint256",name:"usedCash",type:"uint256"},{internalType:"uint256",name:"dexCoverReward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolGuardian",outputs:[{internalType:"contract IPoolGuardian",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256[]",name:"bidRanks",type:"uint256[]"},{internalType:"address",name:"ruler",type:"address"}],name:"queryResidues",outputs:[{internalType:"uint256",name:"stableTokenSize",type:"uint256"},{internalType:"uint256",name:"debtTokenSize",type:"uint256"},{internalType:"uint256",name:"priorityFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256[]",name:"bidRanks",type:"uint256[]"}],name:"retrieve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userBidTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userLastBidBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function V(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("AuctionHall",z,e)}))}const H=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"thisAddr",type:"address"},{indexed:!1,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"positionAddr",type:"address"},{indexed:!0,internalType:"address",name:"ruler",type:"address"},{indexed:!1,internalType:"uint256",name:"bidSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receiveSize",type:"uint256"}],name:"ExecuteNaginata",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"committee",outputs:[{internalType:"contract ICommittee",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"},{internalType:"uint256",name:"bidSize",type:"uint256"}],name:"executeNaginata",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_tradingHub",type:"address"},{internalType:"address",name:"_priceOracle",type:"address"},{internalType:"address",name:"_committee",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"killSelf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"legacyInfos",outputs:[{internalType:"uint256",name:"bidSize",type:"uint256"},{internalType:"uint256",name:"usedCash",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"position",type:"address"}],name:"priceOfLegacy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tradingHub",outputs:[{internalType:"contract ITradingHub",name:"",type:"address"}],stateMutability:"view",type:"function"}];function W(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("VaultButler",H,e)}))}const q=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"isSwapRouterV3",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];const K=[{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"}];function j(){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("UniswapV2Router02",K)}))}const Y=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"}];function Q(e){return r(this,void 0,void 0,(function*(){const t=yield function(){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("dexCenter",q)}))}();return yield t.isSwapRouterV3(e)}))}function X(t,n,a,i){return r(this,void 0,void 0,(function*(){const s=[a,n];if(yield Q(i)){const n=yield function(t,n){return r(this,void 0,void 0,(function*(){const a=[3e3],i=be().ethUtil.encodePath(n,a),s=(new e.AbiCoder).encode(["uint256"],[t]),p=new e.Interface(Y).encodeFunctionData("quoteExactInput",[i,s]),y=be().ethUtil.getContractAddress("UniswapV3Quoter"),u=yield be().ethUtil.getProvider();return yield u.call({to:y,data:p})}))}(t,s);return n}{const e=yield j(),n=yield e.getAmountsOut(t,s);return n[n.length-1]}}))}function J(t,n,a){return r(this,void 0,void 0,(function*(){if(a)return function(t,n){return r(this,void 0,void 0,(function*(){const a=[3e3],i=be().ethUtil.encodePath(n,a),s=(new e.AbiCoder).encode(["uint256"],[t]),p=new e.Interface(Y).encodeFunctionData("quoteExactOutput",[i,s]),y=be().ethUtil.getContractAddress("UniswapV3Quoter"),u=yield be().ethUtil.getProvider();return yield u.call({to:y,data:p})}))}(t,n);const i=yield j();return(yield i.getAmountsIn(t,n))[0]}))}var Z=Object.freeze({__proto__:null,isSwapRouterV3:Q,getExpectedPrice:function(e,n,a,i){return r(this,void 0,void 0,(function*(){const s=yield X(e,n,a,i);return t.from(s)}))},getAmountOutMin:X,getAmountInMax:J});function $(e="",t=1){return r(this,void 0,void 0,(function*(){const n=yield d();let a=[];return a=""!==e?yield n.getPositionsByPoolId(e,t):yield n.getPositionsByState(t),a}))}var ee=Object.freeze({__proto__:null,getPositions:$,getLiquidatingPositions:function(e=1){return r(this,void 0,void 0,(function*(){const t=yield be().ethUtil.getMulticallProvider();let n=2;switch(e){case 1:n=2;break;case 2:n=4;break;case 3:n=8}const a=yield $("",n),i=be().ethUtil.getMulticallContractByName("TradingHub",o),s=[];a.forEach((e=>{s.push(i.positionInfoMap(e))}));const p=yield t.all(s),y=[];p.forEach((e=>{const t=T(e.strToken);y.push(t.getMetaInfo())}));const u=(yield t.all(y)).map(((e,t)=>{const{stakedToken_:n,leverage_:i}=e;return{hash:a[t],leverage:i,strToken:p[t].strToken,stakedToken:n}})),r=[],d=be().ethUtil.getMulticallContractByName("AuctionHall",z),l=be().ethUtil.getMulticallContractByName("VaultButler",H);u.forEach((e=>{r.push(d.phase1Infos(e.hash)),r.push(d.phase2Infos(e.hash)),r.push(l.legacyInfos(e.hash));const t=v(e.stakedToken);r.push(t.symbol())}));return N(yield t.all(r),4).map(((e,t)=>{const n=e[0],a=e[1],i=e[2],s=e[3];return{positionBaseInfo:Object.assign(Object.assign({},u[t]),{symbol:s}),phase1Info:{bidSize:n.bidSize,liquidationPrice:n.liquidationPrice,flag:n.flag},phase2Info:{isWithdrawn:a.isWithdrawn,debtSize:a.debtSize,usedCash:a.usedCash,dexCoverReward:a.dexCoverReward,flag:a.flag},legacyInfo:{bidSize:i.bidSize,usedCash:i.usedCash}}}))}))},getPositionInfoByHash:function(e){return r(this,void 0,void 0,(function*(){const t=yield d(),n=yield t.getPositionInfo(e),a=yield b(n.strToken),i=yield a.positionInfoMap(e);return{closedFlag:i.closedFlag,poolId:n.poolId,poolStrToken:n.strToken,size:i.totalSize,state:n.positionState,trader:i.trader,totalFee:i.totalFee,margin:i.totalMarginAmount,unsettledCash:i.unsettledCash,remnantAsset:i.remnantAsset}}))},getPositionBlocks:function(e){return r(this,void 0,void 0,(function*(){const t=yield d(),{openBlock:n,closingBlock:a,overdrawnBlock:i,closedBlock:s}=yield t.positionBlocks(e);return{openBlock:n,closingBlock:a,overdrawnBlock:i,closedBlock:s}}))},POSITION_STATUS:{0:"Risky",1:"Moderate",2:"Safe",4:"Legacy",8:"Closing",5:"Closed",6:"Finished"},buyCover:function(e,n,a,i,s){return r(this,void 0,void 0,(function*(){let p=[i,s];const y=yield Q(a);y&&(p=p.reverse());const u=be().ethUtil.encodePath(p,[3e3]);let r=yield J(n,p,y);r=t.from(r);const o=yield d(!1),l=yield o.buyCover(e,n,r,u);return yield l.wait()}))},sellShort:function(e,t,n,a,i){return r(this,void 0,void 0,(function*(){const s=[i,a],p=be().ethUtil.encodePath(s,[3e3]),y=yield d(!1),u=yield X(t,a,i,n),r=yield y.sellShort(e,t,u,p);return yield r.wait()}))}});var te=Object.freeze({__proto__:null,getPhase1Info:function(e){return r(this,void 0,void 0,(function*(){const t=yield V(),{bidSize:n,liquidationPrice:a,flag:i,isSorted:s}=yield t.phase1Infos(e);return{bidSize:n,liquidationPrice:a,isSorted:s,flag:i}}))},getPhase2Info:function(e){return r(this,void 0,void 0,(function*(){const t=yield V(),n=yield t.phase2Infos(e);return{isWithdrawn:n.isWithdrawn,rulerAddr:n.rulerAddr,debtSize:n.debtSize,usedCash:n.usedCash,dexCoverReward:n.dexCoverReward,flag:n.flag}}))},getLegacyInfo:function(e){return r(this,void 0,void 0,(function*(){const t=yield W(),n=yield t.legacyInfos(e);return{bidSize:n.bidSize,usedCash:n.usedCash}}))},getPhase1BidList:function(t,n,a="latest"){return r(this,void 0,void 0,(function*(){const i=yield be().ethUtil.encodeFilterTopics(z,"BidTanto"),s=new e.AbiCoder;i.push(s.encode(["address"],[t]));return(yield be().ethUtil.getLogs({fromBlock:n,toBlock:a,topics:i,contractName:"auctionHall"})).map((t=>function(t){try{const n=new e.Interface(z).parseLog(t);if("BidTanto"===n.name){const e=n.args;return{ruler:e.ruler,positionAddr:e.positionAddr,bidSize:e.bidSize,priorityFee:e.priorityFee,blockNumber:t.blockNumber,transactionHash:t.transactionHash}}return!1}catch(e){return null}}(t)))}))},queryResidues:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield V(),a=yield n.queryResidues(e,t);return{debtTokenSize:a.debtTokenSize,priorityFee:a.priorityFee,stableTokenSize:a.stableTokenSize}}))},getResidues:function(e){return r(this,void 0,void 0,(function*(){const t=yield V(!1),n=yield t.retrieve(e);return yield n.wait()}))},bidTanto:function(e,t,n){return r(this,void 0,void 0,(function*(){const a=yield V(!1),i=yield a.bidTanto(e,t,n);return yield i.wait()}))},bidKatana:function(e,t,n,a){return r(this,void 0,void 0,(function*(){const i=yield V(!1);let s=[t,n];(yield Q(a))&&(s=s.reverse());const p=be().ethUtil.encodePath(s,[3e3]),y=yield i.bidKatana(e,p);return yield y.wait()}))},executeNaginata:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield W(!1),a=yield n.executeNaginata(e,t);return yield a.wait()}))},getLegacyBidList:function(t,n,a="latest"){return r(this,void 0,void 0,(function*(){const i=yield be().ethUtil.encodeFilterTopics(H,"ExecuteNaginata"),s=new e.AbiCoder;i.push(s.encode(["address"],[t]));return(yield be().ethUtil.getLogs({fromBlock:n,toBlock:a,topics:i,contractName:"vaultButler"})).map((t=>function(t){try{const n=new e.Interface(H).parseLog(t);if("ExecuteNaginata"===n.name){const e=n.args;return{ruler:e.ruler,positionAddr:e.positionAddr,bidSize:e.bidSize,receiveSize:e.receiveSize,blockNumber:t.blockNumber,transactionHash:t.transactionHash}}return null}catch(e){return console.log(e),null}}(t)))}))}});const ne=[{inputs:[{internalType:"address",name:"tokenAddr",type:"address"}],name:"getLatestMixinPrice",outputs:[{internalType:"uint256",name:"tokenPrice",type:"uint256"}],stateMutability:"view",type:"function"}];const ae=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"AllyKilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PoolTillIn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"poolId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PoolTillOut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddr",type:"address"}],name:"ResetAlly",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"Revenue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TillIn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"allyId",type:"bytes32"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddr",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TillOut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TetherToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address[]",name:"tokenAddrs",type:"address[]"},{internalType:"uint256[]",name:"_tokenRatingScores",type:"uint256[]"}],name:"addTokenWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allyContracts",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"getTokenInfo",outputs:[{internalType:"bool",name:"inWhiteList",type:"bool"},{internalType:"address",name:"swapRouter",type:"address"},{internalType:"uint256",name:"tokenRatingScore",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"sendAllyId",type:"bytes32"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintByAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"poolRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"poolTillIn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"poolId",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"poolTillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IShorterBone.IncomeType",name:"_type",type:"uint8"}],name:"revenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"},{internalType:"address",name:"contractAddr",type:"address"}],name:"setAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_flag",type:"bool"}],name:"setMintState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"tokenAddrs",type:"address[]"},{internalType:"bool",name:"flag",type:"bool"}],name:"setTaxFreeTokenList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_TetherToken",type:"address"}],name:"setTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"bool",name:"flag",type:"bool"}],name:"setTokenInWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"tokenRatingScore",type:"uint256"}],name:"setTokenRatingScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"newSwapRouter",type:"address"}],name:"setTokenSwapRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"allyId",type:"bytes32"}],name:"slayAlly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"taxFreeTokenList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"bytes32",name:"toAllyId",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"tillIn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"bytes32",name:"fromAllyId",type:"bytes32"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"tillOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTokenSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}];function ie(){return be().ethUtil.getMulticallContractByName("ShorterBone",ae)}var se=Object.freeze({__proto__:null,getGasPrice:function(){return r(this,void 0,void 0,(function*(){const t=be().ethUtil.getProvider(),n=yield(yield t).getGasPrice();return e.formatUnits(n,"gwei")}))},getLatestPrice:function(e){return r(this,void 0,void 0,(function*(){const t=yield function(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("PriceOracle",ne,e)}))}();return yield t.getLatestMixinPrice(e)}))},getTokenInfo:function(e){return r(this,void 0,void 0,(function*(){const t=ie(),n=v(e),a=yield be().ethUtil.getMulticallProvider(),i=[];i.push(t.getTokenInfo(e)),i.push(n.symbol()),i.push(n.decimals());const s=yield a.all(i),p=s[0];return{symbol:s[1],decimals:s[2],multiplier:p.tokenRatingScore,inWhiteList:p.inWhiteList,swapRouter:p.swapRouter}}))},getTokenWhiteList:function(){return r(this,void 0,void 0,(function*(){const e=yield function(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("ShorterBone",ae,e)}))}(),t=yield ie(),n=yield be().ethUtil.getMulticallProvider();let a=yield e.totalTokenSize();a=Number(a.toString());let i=0;const s=[];for(;i<a;)s.push(t.tokens(i)),i++;return yield n.all(s)}))}});var pe=Object.freeze({__proto__:null,getCurrentWallet:function(){return r(this,void 0,void 0,(function*(){}))},getGasBalance:function(){return r(this,void 0,void 0,(function*(){}))},getBalanceOf:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield function(e){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByAddr(e,f)}))}(e);return yield n.balanceOf(t)}))},getETHBalanceOf:function(e){return r(this,void 0,void 0,(function*(){const t=yield be().ethUtil.getProvider();return yield t.getBalance(e)}))}});class ye{constructor(e){this.chainId="0x01",this.chainName="Ethereum",this.account="",this.rpc="",this.privateKey="",this.customProvider=null,this.update(e)}update(e){if(!e.rpc&&!e.customProvider)throw new Error("Please enter the complete initialization parameters. rpc or customProvider is necessary.");this.account=e.account,this.chainId=e.chainId||"0x01",this.chainName=e.chainName,this.rpc=e.rpc,this.privateKey=e.privateKey||"",this.customProvider=e.customProvider}getConfig(){return{chainId:this.chainId,chainName:this.chainName,account:this.account,rpc:this.rpc,customProvider:this.customProvider}}}var ue={UniswapV2Router02:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",UniswapV2Factory:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",UniswapV3Quoter:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",shorterFactory:"0x870f2BD1e0121Db27f4507BAA7f69ef541e76f25",shorterBone:"0xcaedfcBab36046aAd64110CedF06bE2e6B4aec83",IPISTR:"0x888888888888f195E27A2E0F98D712952aB9348e",dexCenter:"0xaB01405828260236cDa9485115697962ccD3ED8B",priceOracle:"0xA570D2F4FdC87fd1DB980302667195d645072d0A",committee:"0xD02732b7383FD0C3617dc406cF9250Bb7e6517f7",poolGuardian:"0x865048AA101F91C5477A6a6CDbBeea4Cca2eBEcf",tradingHub:"0xf3C71f7cb3e56C5036D650A1543ab39b3f49D0eb",auctionHall:"0x8CDd86489246B32D1D037b5eB5083c6ac4e430E1",vaultButler:"0x8259d8B80015F62Df7c2b40c79239564293Bf272",farming:"0x21f05513f11194A18C21EDf2e84C3629d4F9c5b9",treasury:"0x5DC70B97049143D73CCfa539e96c0b11C1fB66ce",grabReward:"0xec3Ad55665856c44683616D2F46F19Bb4b1215D2",tradingReward:"0x4678389e27239BeeC79296617c180052ac17d411",govReward:"0xBC7eED8E74FEd4CCe9caB00F1188168D4EF876Fb",voteReward:"0x2ee29c326E0cF47Bd767F8576f44C9ede7BB3035",farmingReward:"0x59772B7eF1eC00A2094485309344651cA5F1A39f",poolReward:"0x3e23335Dc5e3D7a8511C17b803E185649a68c2c0",interestRate:"0x5f3BBB1739f06eAE19BD0cA9e22B4AA588A4940A",trancheAllocator:"0xeCE049c486c6676D101083430Bd64611Db091778",wrapRouter:"0xDc8dE7df3CB842E2304A1b007c8275a401cac709"},re={UniswapV2Router02:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",UniswapV2Factory:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",UniswapV3Quoter:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",multicall:"0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e",ShorterFactory:"0x2b9E9E0e2BBd57b24c21e450B2cFCdd739C7a124",ShorterBone:"0x26d08eE50A5DC93D39419ec95871F1F08d0DFE60",IPISTR:"0x54c31aBbBd6811DA7fAa7f46813AD46f0bcD0101",DexCenter:"0xCCDB99dCbCC59d967a2793058f945Ef8a1cA264c",PriceOracle:"0xf0Ad4d68C0BCC1dA0254EC8049D486927BD3A143",Committee:"0x7D63458b83FFfE2Ab0a000E14d7568915FA53C03",AllyLibrary:"0x100F32Dfa30259d3C9eBf51B6a91C634F58ccf74",PoolGuardian:"0x309e4407907AaBDc755b7F988C57c524d399cA68",TradingHub:"0x1E8fc3d61c02C50dcAf0B4b744795929f7C7bA9b",AuctionHall:"0xa87456aF80A953CbD882607CCEa7D30887bDF7E0",VaultButler:"0xaA23E97842b22463F261e271Ce37dB3b43D38Bb9",Farming:"0x397587B6b2c9517d079D116a50291543BEbe7423",Treasury:"0xB21A6fD4Da2db66C42d1Fe8807E07c1d76709046",GrabRewardModel:"0x5807e55b28bD4C5f34a1009B7f0b1656f9CFcC28",TradingRewardModel:"0x609b4542Df7593c7970a208A5f671053ee876Ace",GovRewardModel:"0x27E2f1Ad4C7f3DC762ED94a8Cb6584d7E8A5C65f",VoteRewardModel:"0x94D91F5939A1f7687E9dDd02749E3CE84b56aECF",FarmingRewardModel:"0x448B9FaDfc2CfeC11ffCa24C10cCbEf65cb56073",PoolRewardModel:"0x07A645BD80DfD2aFf42b6ee9F742D531cF967ED3",InterestRateModel:"0x4866A0afE0728dc7423a380AEAFdc57Ed9cf6346",PoolGarner:"0x3156b16fB0460e57E30B545a03dF1C862F547412",PoolScatter:"0xD326B8aDE17C34126aB399da9c20Bc17d46458af",TrancheAllocator:"0xc3d1ED8e4ac0E60e634EbD4a697F493A234d473b",WrapRouter:"0x2794b877077d3d9dB0053c647972a77F74BECAAD"},oe={committee:{deployBlock:15287349}},de={committee:{deployBlock:792e4}};function le(e,t){return{"0x01":ue,"0x05":re}[t][e]}class me{constructor(e){this.config=e}getCurrentBlockNumber(){return r(this,void 0,void 0,(function*(){const e=yield this.getProvider(void 0);return yield e.getBlockNumber()}))}getProvider(e=!1){return r(this,void 0,void 0,(function*(){const t=this.config.customProvider;if(t){if(!e)return t;const n=this.config.account||null;return t.getSigner(n)}const i=this.config.rpc,s=Number(this.config.chainId);return s&&i?new n.StaticJsonRpcProvider(i,{name:this.config.chainName,chainId:s}):i?new n.JsonRpcProvider(i):a()}))}getMulticallProvider(){return r(this,void 0,void 0,(function*(){const e=yield this.getProvider(!1),t=new y(e);return yield t.init(),t}))}getContractAddress(e){return e?le(e,this.config.chainId):""}getContractDeployBlock(e){return e?function(e,t){return{"0x01":oe,"0x05":de}[t][e].deployBlock}(e,this.config.chainId):""}getContractByName(e,t,n=!0){const a=le(e,this.config.chainId);return this.createContract(a,t,n)}getContractByAddr(e,t,n=!0){return this.createContract(e,t,n)}createContract(e,t,n){return r(this,void 0,void 0,(function*(){if("object"==typeof window){const a=yield this.getProvider(!n);return new i(e,t,a)}{const a=yield this.getProvider(!1),s=new i(e,t,a);return n?s:this.getContractWithSigner(s,a)}}))}getContractWithSigner(e,t){const n=this.config.privateKey,a=new s(n,t);return e.connect(a)}getMulticallContractByName(e,t){const n=le(e,this.config.chainId);return new u(n,t)}getMulticallContractByAddr(e,t){return new u(e,t)}getLogs(e){return r(this,void 0,void 0,(function*(){const t=yield this.getProvider(),{fromBlock:n,toBlock:a,topics:i,contractName:s,contractAddr:p}=e,y=p||this.getContractAddress(s||""),u=Number(a||0)-Number(n||0),o=1e5;if(u<=o||"latest"===a){return(yield t.getLogs({fromBlock:n,toBlock:a,topics:i,address:y}))||[]}let d=[];const l=[],m=Math.floor(u/o)+1;for(let e=0,t=0;e<m;e++)l.push({fromBlock:Number(n)+e*o+t,toBlock:e<m-1?Number(n)+(e+1)*o+t:a,topics:i,address:y}),t+=1;return yield Promise.all(l.map((e=>r(this,void 0,void 0,(function*(){const n=yield t.getLogs(e);d=[...n,...d]}))))),d}))}decodeLogs(t,n){try{const a=new e.Interface(n).parseLog(t);return{hash:t.transactionHash,blockNumber:t.blockNumber,args:a.args,event:a.name}}catch(e){return e}}encodePath(e,t){if(e.length!=t.length+1)throw new Error("path/fee lengths do not match");let n="0x";for(let a=0;a<t.length;a++)n+=e[a].slice(2),n+=t[a].toString(16).padStart(6,"0");return n+=e[e.length-1].slice(2),n.toLowerCase()}encodeFilterTopics(t,n,a=[]){return r(this,void 0,void 0,(function*(){return new e.Interface(t).encodeFilterTopics(n,a)}))}}let ce=null;function be(){if(!ce)throw new Error("Please init Thigh");return ce}class Te{constructor(e){this.config=new ye(e),this.ethUtil=new me(this.config),this.module={pool:R,farming:A,reward:L,committee:G,trading:Z,position:ee,liquidation:te,token:se,account:pe},ce=this}update(e){this.config.update(e)}getConfig(){return this.config.getConfig()}}const fe=[{inputs:[{internalType:"address",name:"_SAVIOR",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"self",type:"address"},{indexed:!0,internalType:"string",name:"shortName",type:"string"},{indexed:!1,internalType:"string",name:"fullName",type:"string"},{indexed:!1,internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"ChainConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"proposer",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"title",type:"string"}],name:"CommunityProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"depositAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"DepositCommittee",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"proposer",type:"address"}],name:"PoolProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ps",type:"uint256"}],name:"ProposalStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"direction",type:"bool"},{indexed:!1,internalType:"uint256",name:"voteShare",type:"uint256"}],name:"ProposalVoted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldRulerThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newRulerThreshold",type:"uint256"}],name:"RulerThresholdSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxVotingDays",type:"uint256"}],name:"VotingMaxDaysSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"WithdrawCommittee",type:"event"},{inputs:[],name:"ALLY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KEEPER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROOT_GROUP",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAVIOR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allowTetherToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocksPerDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainFullName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainShortName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"displayable",type:"bool"}],name:"changeProposalVisibility",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"committeeProposalThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"shortName",type:"string"},{internalType:"string",name:"fullName",type:"string"},{internalType:"uint256",name:"secondsPerBlock",type:"uint256"}],name:"configChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"title",type:"string"}],name:"createCommunityProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakedTokenAddr",type:"address"},{internalType:"uint256",name:"_leverage",type:"uint256"},{internalType:"uint256",name:"_durationDays",type:"uint256"}],name:"createPoolProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"executedCommunityProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_proposalIds",type:"uint256[]"},{internalType:"uint256[]",name:"_failedProposals",type:"uint256[]"}],name:"executedProposals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getAgainstShares",outputs:[{internalType:"uint256",name:"voteShare",type:"uint256"},{internalType:"uint256",name:"totalShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getCommunityProposalInfo",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getForShares",outputs:[{internalType:"uint256",name:"voteShare",type:"uint256"},{internalType:"uint256",name:"totalShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getQueuedProposals",outputs:[{internalType:"uint256[]",name:"_queuedProposals",type:"uint256[]"},{internalType:"uint256[]",name:"_failedProposals",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getUserShares",outputs:[{internalType:"uint256",name:"totalShare",type:"uint256"},{internalType:"uint256",name:"lockedShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"catagory",type:"uint256"}],name:"getVoteProposals",outputs:[{internalType:"uint256[]",name:"_poolForProposals",type:"uint256[]"},{internalType:"uint256[]",name:"_poolAgainstProposals",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_shorterBone",type:"address"},{internalType:"address",name:"_ipistrToken",type:"address"},{internalType:"address",name:"_stableToken",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ipistrStakedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ipistrToken",outputs:[{internalType:"contract IIpistrToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isRuler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxVotingDays",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolMetersMap",outputs:[{internalType:"address",name:"tokenContract",type:"address"},{internalType:"uint32",name:"leverage",type:"uint32"},{internalType:"uint32",name:"durationDays",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposalCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposalFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposalGallery",outputs:[{internalType:"uint32",name:"id",type:"uint32"},{internalType:"address",name:"proposer",type:"address"},{internalType:"uint32",name:"catagory",type:"uint32"},{internalType:"uint64",name:"startBlock",type:"uint64"},{internalType:"uint64",name:"endBlock",type:"uint64"},{internalType:"uint256",name:"forShares",type:"uint256"},{internalType:"uint256",name:"againstShares",type:"uint256"},{internalType:"enum CommitteStorage.ProposalStatus",name:"status",type:"uint8"},{internalType:"bool",name:"displayable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposalIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rulerThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secondsPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalFee",type:"uint256"}],name:"setProposalFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"threshold",type:"uint256"}],name:"setProposalQuorum",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRulerThreshold",type:"uint256"}],name:"setRulerThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxVotingDays",type:"uint256"}],name:"setVotingDays",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stableToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalIpistrStakedShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"multiSigWallet",type:"address"}],name:"transferSavior",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userLockedShare",outputs:[{internalType:"uint256",name:"forShares",type:"uint256"},{internalType:"uint256",name:"againstShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"direction",type:"bool"},{internalType:"uint256",name:"voteShare",type:"uint256"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];function ve(e=!0){return r(this,void 0,void 0,(function*(){return yield be().ethUtil.getContractByName("Committee",fe,e)}))}function ge(){return be().ethUtil.getMulticallContractByName("Committee",fe)}const Me=new Map;Me.set("committee",fe),Me.set("tradingHub",o),Me.set("auctionHall",z);let we=null;function he(){return r(this,void 0,void 0,(function*(){return we||(we=yield be().ethUtil.getProvider(),we)}))}const Re={on:function(t,n,a,i=""){return r(this,void 0,void 0,(function*(){const s=yield he(),p=Me.get(t),y=be().ethUtil.getContractAddress(t),u=yield be().ethUtil.encodeFilterTopics(p,n);if(i){const t=new e.AbiCoder;u.push(t.encode(["address"],[i]))}const r={topics:u,address:y};s.on(r,(t=>{const n=new e.Interface(p).parseLog(t);a({log:n,origin:t})}))}))},off:function(e,t){return r(this,void 0,void 0,(function*(){const n=yield he();if(!n)return;const a=Me.get(e),i=be().ethUtil.getContractAddress(e),s={topics:yield be().ethUtil.encodeFilterTopics(a,t),address:i};n.off(s)}))}};function xe(){const{ethereum:e}=globalThis;return e}function ke(){const e=xe();return Boolean(e&&e.isMetaMask)}var Pe=Object.freeze({__proto__:null,isMetaMaskAvailable:ke,getMetamaskProvider:function(){if(ke()){return new p.providers.Web3Provider(xe(),"any")}return console.log("Please install Metamask first"),null},fetchChainId:function(){return r(this,void 0,void 0,(function*(){if(ke()){const e=xe();return yield e.request({method:"eth_chainId"})}return console.log("Please install Metamask first")}))},fetchAccount:function(){return r(this,void 0,void 0,(function*(){if(ke()){const e=xe();return yield e.request({method:"eth_requestAccounts"})}return console.log("Please install Metamask first")}))},connectMetamask:function(){return r(this,void 0,void 0,(function*(){xe().request({method:"eth_requestAccounts"}).then((e=>e)).catch((e=>{4001===e.code?console.log("Please connect to MetaMask."):console.error(e)}))}))},signMessage:function(){return r(this,void 0,void 0,(function*(){}))}});export{Te as Thigh,Re as eventListener,Pe as metamask};
//# sourceMappingURL=index.esm.js.map
